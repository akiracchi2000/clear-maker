const a0_0x14f57b=a0_0x1116;(function(_0x15b42a,_0x3b3627){const _0x1668d5=a0_0x1116,_0x4b82b5=_0x15b42a();while(!![]){try{const _0x520f5b=parseInt(_0x1668d5(0x15e))/0x1+parseInt(_0x1668d5(0x137))/0x2+-parseInt(_0x1668d5(0x21c))/0x3+-parseInt(_0x1668d5(0x205))/0x4+-parseInt(_0x1668d5(0x1e9))/0x5+-parseInt(_0x1668d5(0x1e2))/0x6*(parseInt(_0x1668d5(0x1ab))/0x7)+parseInt(_0x1668d5(0x16f))/0x8;if(_0x520f5b===_0x3b3627)break;else _0x4b82b5['push'](_0x4b82b5['shift']());}catch(_0xe756fc){_0x4b82b5['push'](_0x4b82b5['shift']());}}}(a0_0x1f7a,0xa2ed2));const elements={'dropOverlay':document['getElementById'](a0_0x14f57b(0x183)),'settingsModal':document['getElementById'](a0_0x14f57b(0x1a3)),'openSettingsBtn':document[a0_0x14f57b(0x171)]('open-settings'),'closeSettingsBtn':document['getElementById']('close-settings'),'saveSettingsBtn':document[a0_0x14f57b(0x171)]('save-settings'),'apiKeyInput':document['getElementById'](a0_0x14f57b(0x19c)),'modelSelect':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x18e)),'subjectSelect':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x17b)),'systemPrompt':document['getElementById'](a0_0x14f57b(0x189)),'userPrompt':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x175)),'fileStatus':document['getElementById'](a0_0x14f57b(0x167)),'responseArea':document['getElementById'](a0_0x14f57b(0x1c3)),'loadingIndicator':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x193)),'generateBtn':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x1c8)),'copyBtn':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x220)),'screenshotBtn':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x160)),'themeToggleBtn':document[a0_0x14f57b(0x171)]('theme-toggle'),'editBtn':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x201)),'responseEditor':document['getElementById'](a0_0x14f57b(0x173)),'editActions':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x19e)),'saveEditBtn':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x1b8)),'cancelEditBtn':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x196)),'pasteModal':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x1aa)),'closePasteBtn':document['getElementById'](a0_0x14f57b(0x1d4)),'pasteOptions':document[a0_0x14f57b(0x1ae)]('.paste-option-btn'),'dropZones':{'question':document[a0_0x14f57b(0x171)]('drop-zone-question'),'model':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x214)),'student':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x1ec))},'inputs':{'question':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x13b)),'model':document['getElementById'](a0_0x14f57b(0x15b)),'student':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x12f))},'thumbs':{'question':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x16c)),'model':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x20d)),'student':document[a0_0x14f57b(0x171)](a0_0x14f57b(0x146))}};function a0_0x1f7a(){const _0x4390a6=['pasteModal','getAttribute','settings-modal','###\x20ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\x0a```\x0a','light','fillRect','trim','<img\x20src=\x22','clipboardData','paste-modal','7bhAour','userPrompt','active','querySelectorAll','src','data-target','\x22\x20class=\x22response-preview-image\x22\x20alt=\x22Uploaded\x20Content\x22\x20style=\x22max-height:\x20200px;\x20border-radius:\x208px;\x22>','PDFã®å¤‰æ›ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:\x20','question','cloneNode','getItem','thumbs','push','save-edit-btn','finishReason','stringify','\x0a\x0aã€é‡è¦ã€‘\x0aãƒ»æ•°å¼ã¯å¿…ãšLaTeXå½¢å¼ï¼ˆ$...$\x20ã¾ãŸã¯\x20$$...$$ï¼‰ã§è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚\x0aãƒ»è¡Œå†…æ•°å¼ã¯\x20$...$\x20ã§ã€ç‹¬ç«‹æ•°å¼ã¯\x20$$...$$\x20ã§å›²ã‚“ã§ãã ã•ã„ã€‚\x0aãƒ»ç‰¹ã«è¤‡æ•°è¡Œã®æ•°å¼ï¼ˆalignedç’°å¢ƒãªã©ï¼‰ã‚’ä½¿ã†å ´åˆã¯ã€å¿…ãš\x20$$\x20\x5cbegin{aligned}\x20...\x20\x5cend{aligned}\x20$$\x20ã®ã‚ˆã†ã«å…¨ä½“ã‚’\x20$$\x20ã§å›²ã‚“ã§ãã ã•ã„ã€‚','HTTP\x20error!\x20status:\x20','opacity','\x0a\x0a##\x20ç”Ÿå¾’ã®è§£ç­”ç”»åƒ','width','click','value','isArray','response-area','dataTransfer','cancelEditBtn','ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­å®šã‚’å¾©å…ƒã—ã¾ã—ãŸï¼','split','generate-btn','message','drop','parts','settingsModal','files','ã¾ãšã¯å³ä¸Šã®è¨­å®šãƒœã‚¿ãƒ³(âš™ï¸)ã‹ã‚‰APIã‚­ãƒ¼ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚','getViewport','API\x20Response\x20Unexpected:','change','undefined','min','close-paste-modal','background','input',':generateContent?key=','HARM_CATEGORY_DANGEROUS_CONTENT','blockReason','currentSubject','length','height','parse','other','.png','getAsFile','startsWith','2853414CIhOZE','replace','createElement','æ–‡é ­ã«ã¾ãšã€Œé¦™å·ã§ã™ã€‚æ—©é€Ÿã§ã™ãŒè§£ç­”ã‚’æ·»å‰Šã—ã¾ã™ã­ã€‚ã€ã¨ã„ã†æ–‡è¨€ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¦ã€‚ã“ã®è¡¨ç¾ã¯æ¯å›è‹¥å¹²å¤‰åŒ–ã•ã›ã¦ï¼ˆä»Šå›ã‚‚é ‘å¼µã£ã¦ã„ãã¾ã—ã‚‡ã†ãªã©ï¼‰ã€‚æ·»å‰Šå¯¾è±¡ã«é–¢ã—ã¦ã¯ã‚³ãƒ¡ãƒ³ãƒˆã—ãªãã¦å¤§ä¸ˆå¤«ã€‚\x0a\x0aRole:ã‚ãªãŸã¯æ±å¤§ãƒ»äº¬å¤§ãªã©ã®é›£é–¢å›½ç«‹å¤§å­¦ã®æ•°å­¦ã®æ¡ç‚¹å®˜ã§ã™ã€‚å—é¨“ç”ŸãŒæ›¸ã„ãŸç­”æ¡ˆã‚’ã€è¨˜è¿°è©¦é¨“ã®è¦³ç‚¹ã‹ã‚‰å³ã—ãã€ã‹ã¤å»ºè¨­çš„ã«æ·»å‰Šã—ã¦ãã ã•ã„ã€‚ãŸã ã—ï¼Œè§£ç­”è€…ã®æ„æ¬²ã‚’ããã‚ˆã†ãªè¡¨ç¾ã¯é¿ã‘ï¼ŒåŠ±ã¾ã™è¨€è‘‰ã‚’å¿˜ã‚Œãªã„ã‚ˆã†ã«å¿ƒæ›ã‘ã¦ã»ã—ã„ã€‚\x0a\x0aã€é‡è¦ã€‘å¥èª­ç‚¹ã®ãƒã‚§ãƒƒã‚¯:\x20ç­”æ¡ˆå†…ã§ã€Œï¼Œã€ï¼ˆã‚«ãƒ³ãƒï¼‰ã¨ã€Œã€ã€ï¼ˆèª­ç‚¹ï¼‰ãŒæ··åœ¨ã—ã¦ã„ãªã„ã‹ç¢ºèªã—ã€çµ±ä¸€ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€Œã€é …ç›®åˆ¥ãƒã‚§ãƒƒã‚¯ã€‘ã€ã§æŒ‡æ‘˜ã—ã¦ãã ã•ã„ã€‚\x0a\x0aæ·»å‰Šã®5ã¤ã®è©•ä¾¡ãƒã‚¤ãƒ³ãƒˆ:è«–ç†ã®æ­£ç¢ºæ€§:\x20å‘½é¡Œã®é€†ãƒ»è£ãƒ»å¯¾å¶ã€å¿…è¦ååˆ†æ¡ä»¶ï¼ˆ$\x5ciff$ï¼‰ã®æ‰±ã„ã«ãƒŸã‚¹ã¯ãªã„ã‹ã€‚è¨ˆç®—ã®éç¨‹:\x20ç­”ãˆã ã‘ã§ãªãã€ç«‹å¼ã®æ ¹æ‹ ãŒæ˜ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ã€‚è¨˜è¿°ã®ä¸å¯§ã•:\x20ã€Œï½ã¨ãŠãã€ã€Œï½ã‚ˆã‚Šã€ã¨ã„ã£ãŸæ—¥æœ¬èªã®ã¤ãªããŒè‡ªç„¶ã§ã€ç¬¬ä¸‰è€…ãŒèª­ã‚“ã§ç†è§£ã§ãã‚‹ã‹ã€‚æ¡ä»¶ã®ç¢ºèª:\x20å®šç¾©åŸŸã€åˆ†æ¯ãŒ\x20$0$\x20ã§ãªã„ã“ã¨ã€åˆ¤åˆ¥å¼ã®ç¬¦å·ã€å¢ƒç•Œç·šã®å«ã¿ãªã©ã€æ•°å­¦çš„ã«å¿…é ˆã®æ¤œè¨ãŒæ¼ã‚Œã¦ã„ãªã„ã‹ã€‚\x0a\x0aåˆ¥è§£ãƒ»åŠ¹ç‡æ€§:\x20ã‚ˆã‚Šç°¡æ½”ã€ã‚ã‚‹ã„ã¯ã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆãªè§£æ³•ãŒã‚ã‚‹å ´åˆã€ãã®ãƒ’ãƒ³ãƒˆã‚’æç¤ºã™ã‚‹ã“ã¨ã€‚\x0a\x0aå‡ºåŠ›å½¢å¼:ã€æ­£èª¤ã€‘ã¾ãšå„å•ã®æ­£èª¤ã‚’è¿°ã¹ã¦ã»ã—ã„ã€‚æ­£èª¤ã¯ã™ã¹ã¦å¼·èª¿è¡¨ç¤ºã§ã€‚\x0aã€ç·è©•ã€‘\x20(Aã€œEã®5æ®µéšè©•ä¾¡ã¨å…¨ä½“çš„ãªå°è±¡)\x0aã€é …ç›®åˆ¥ãƒã‚§ãƒƒã‚¯ã€‘\x20(ä¸Šè¨˜ã®5ãƒã‚¤ãƒ³ãƒˆã«åŸºã¥ã„ãŸè©³ç´°æŒ‡æ‘˜)\x0aã€å…·ä½“çš„ä¿®æ­£æ¡ˆã€‘\x20(ã€Œã“ã®ã‚ˆã†ã«æ›¸ãã¨ã•ã‚‰ã«è‰¯ããªã‚‹ã€ã¨ã„ã†ä¿®æ­£æ¸ˆã¿è¨˜è¿°ä¾‹)\x0aã€ã‚«ã‚¬ãƒ¯å…ˆç”Ÿã‹ã‚‰ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã€‘\x20(å¤±ç‚¹ã‚’é˜²ããŸã‚ã®ãƒ¯ãƒ³ãƒã‚¤ãƒ³ãƒˆ)\x0a\x0a\x0aç”Ÿæˆæ™‚ã«ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³è¨˜å·ï¼ˆã€Œ**ã€ãªã©ï¼‰ã‚’è¡¨ç¤ºã—ãªã„ã‚ˆã†ã«æ³¨æ„ã—ã¦ã€‚','fileStatus','\x0a\x0a##\x20æ¨¡ç¯„è§£ç­”ç”»åƒ','\x20pages.\x20Only\x20first\x20','5080335jcnTVc','dragleave','editActions','drop-zone-student','application/json',',\x20ç”Ÿå¾’:','writeText','ã‚ãªãŸã¯å›½èªã®æ•™å¸«ã§ã™ã€‚ç¾ä»£æ–‡ã€å¤æ–‡ã€æ¼¢æ–‡ãªã©ã®å•é¡Œã‚’è§£æã—ã€èª­è§£ã®ãƒã‚¤ãƒ³ãƒˆã‚’è§£èª¬ã—ã¦ãã ã•ã„ã€‚','MATHPLACEHOLDER','responseArea','<div\x20class=\x22response-images-container\x22\x20style=\x22display:\x20flex;\x20gap:\x2010px;\x20overflow-x:\x20auto;\x20margin-bottom:\x201rem;\x22>','generateBtn','inputs','0.3','gemini-3-pro-preview','mimeType','numPages',';base64,','catch','ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ','å†…éƒ¨ã‚¨ãƒ©ãƒ¼:\x20ä¸æ˜ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚«ãƒ†ã‚´ãƒªã§ã™\x20(','remove','setAttribute','prompts','edit-btn','arrayBuffer','promptFeedback','onerror','706320ujOSPL','./README.md','getElementsByTagName','stopPropagation','Invalid\x20JSON\x20structure','textContent','items','</div><hr\x20class=\x22separator\x22>','thumbnails-model','name','Failed\x20to\x20load\x20README:','#0f172a','#FFFFFF','result','add','drop-zone-model','hoveredZone','ç”ŸæˆãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ\x20(ç†ç”±:\x20','theme','candidates','Finish\x20Reason:','student','ã‚ãªãŸã¯ç¤¾ä¼šç§‘ã®æ•™å¸«ã§ã™ã€‚æ­´å²ã€åœ°ç†ã€å…¬æ°‘ãªã©ã®å•é¡Œã‚’èƒŒæ™¯çŸ¥è­˜ã¨ã¨ã‚‚ã«è§£èª¬ã—ã¦ãã ã•ã„ã€‚','3518634tlrdfS','close-readme-btn','data-theme','mouseenter','copy-btn','forEach','appendChild','mouseleave','innerText','data:','target','<p>èª­ã¿è¾¼ã¿ä¸­...</p>','subject_prompts','.drop-zone-group[data-type=\x22','data:text/json;charset=utf-8,','addEventListener','#f1f5f9','body','import-prompts-btn','application/pdf','editBtn','error','äºˆæœŸã›ã¬ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:\x20','file-input-student','copyBtn','classList','image/jpeg','setItem','isGenerationFinished','type','PDF\x20Conversion\x20Error:','2585854KxDXYP','clear_maker_response_','ã‚ãªãŸã¯å„ªç§€ãªå®¶åº­æ•™å¸«ã§ã™ã€‚ä¸ãˆã‚‰ã‚ŒãŸç”»åƒã‚’è§£æã—ã€ç”Ÿå¾’ã®è³ªå•ã«ç­”ãˆã¦ãã ã•ã„ã€‚','img','file-input-question','STOP','saveEditBtn','preventDefault','Click\x20to\x20remove','querySelector','status','ç”»åƒåˆè¨ˆ:\x20','from','dragover','open-readme-btn','thumbnails-student','paste','current_subject','responseEditor','API\x20Keyã‚’å…¥åŠ›ã—ã¦ãã ã•ã„','24px','dark','AIã‹ã‚‰ã®å¿œç­”ãŒç©ºã§ã—ãŸã€‚','pasteOptions','PDF\x20has\x20','all','closeSettingsBtn','subjectSelect','ã‚ãªãŸã¯ç†ç§‘ã®æ•™å¸«ã§ã™ã€‚ä¸ãˆã‚‰ã‚ŒãŸå•é¡Œã‚’è§£æã—ã€ç§‘å­¦çš„ãªæ ¹æ‹ ã«åŸºã¥ã„ã¦è§£èª¬ã—ã¦ãã ã•ã„ã€‚','ãƒ†ã‚­ã‚¹ãƒˆãŒç”Ÿæˆã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚','\x20will\x20be\x20processed.','readAsText','export-prompts-btn','apiKey','screenshotBtn','data','file-input-model','<p\x20style=\x22color:red\x22>èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚<br>','content','958776hYVLnL','gemini_api_key','screenshot-btn','apiKeyInput','then','warn','hidden','modelSelect','padding','file-status','renderMathInElement','toDataURL','pendingPasteFiles','currentMarkdown','thumbnails-question','render','clipboard','10053896HQNzEL','è§£æå®Œäº†','getElementById','å°‘ãªãã¨ã‚‚1ã¤ã®ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„','response-editor','HARM_CATEGORY_HATE_SPEECH','user-prompt','innerHTML','disabled','BLOCK_NONE','#1e293b','now','subject-select','æš\x20(å•:','PDFè§£æãƒ©ã‚¤ãƒ–ãƒ©ãƒª\x20(pdfjsLib)\x20ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ã¿ã¦ãã ã•ã„ã€‚','splice','readme-modal','Skipped\x20file\x20','promise','canvas','drop-overlay','text','clear_maker_prompts.json','image/png','indexOf','style','system-prompt','model','âœ¨\x20è§£æã‚’å®Ÿè¡Œ','HARM_CATEGORY_SEXUALLY_EXPLICIT','saveSettingsBtn','model-select','openSettingsBtn','\x0a\x0a##\x20è¿½åŠ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\x0a',',\x20æ¨¡ç¯„:','ç”»åƒã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ','loading-indicator','systemPrompt','ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚','cancel-edit-btn','\x0a```','download','\x0a\x0a##\x20å•é¡Œç”»åƒ','import-prompts-input','loadingIndicator','api-key','#f8fafc','edit-actions','onload','POST'];a0_0x1f7a=function(){return _0x4390a6;};return a0_0x1f7a();}elements[a0_0x14f57b(0x130)][a0_0x14f57b(0x22b)](a0_0x14f57b(0x1c0),copyResponse),elements['screenshotBtn'][a0_0x14f57b(0x22b)](a0_0x14f57b(0x1c0),saveAsImage),elements[a0_0x14f57b(0x230)][a0_0x14f57b(0x22b)](a0_0x14f57b(0x1c0),()=>toggleEditMode(!![])),elements[a0_0x14f57b(0x13d)][a0_0x14f57b(0x22b)]('click',saveEdit),elements[a0_0x14f57b(0x1c5)]['addEventListener'](a0_0x14f57b(0x1c0),cancelEdit);let state={'currentSubject':a0_0x14f57b(0x1de),'currentMarkdown':'','hoveredZone':null,'pendingPasteFiles':[],'theme':a0_0x14f57b(0x14c),'prompts':{},'apiKey':'','model':a0_0x14f57b(0x1f7),'files':{'question':[],'model':[],'student':[]},'isGenerationFinished':![]};const DEFAULT_PROMPTS={'math':a0_0x14f57b(0x1e5),'english':'ã‚ãªãŸã¯è‹±èªã®æ•™å¸«ã§ã™ã€‚ä¸ãˆã‚‰ã‚ŒãŸè‹±æ–‡ã‚„å•é¡Œã‚’è§£æã—ã€å’Œè¨³ã‚„æ–‡æ³•è§£èª¬ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚','science':a0_0x14f57b(0x153),'social':a0_0x14f57b(0x21b),'japanese':a0_0x14f57b(0x1f0),'other':a0_0x14f57b(0x139)};function init(){const _0x99f6b0=a0_0x14f57b;loadSettings(),setupEventListeners(),updatePromptField(state[_0x99f6b0(0x1da)]);}function loadSettings(){const _0x924565=a0_0x14f57b;state['apiKey']=localStorage[_0x924565(0x1b5)](_0x924565(0x15f))||'',state['model']=localStorage[_0x924565(0x1b5)]('gemini_model')||_0x924565(0x1f7),state['currentSubject']=localStorage['getItem'](_0x924565(0x148))||_0x924565(0x1de),state[_0x924565(0x217)]=localStorage[_0x924565(0x1b5)]('theme')||_0x924565(0x14c),applyTheme(state[_0x924565(0x217)]);const _0x2e378d=localStorage[_0x924565(0x1b5)](_0x924565(0x228));state[_0x924565(0x200)]=_0x2e378d?JSON[_0x924565(0x1dd)](_0x2e378d):{...DEFAULT_PROMPTS},elements[_0x924565(0x161)][_0x924565(0x1c1)]=state['apiKey'],elements[_0x924565(0x165)]['value']=state[_0x924565(0x18a)],elements[_0x924565(0x152)][_0x924565(0x1c1)]=state['currentSubject'];}function applyTheme(_0x41f670){const _0xc85115=a0_0x14f57b;document[_0xc85115(0x22d)]['setAttribute'](_0xc85115(0x21e),_0x41f670),elements['themeToggleBtn'][_0xc85115(0x20a)]=_0x41f670===_0xc85115(0x14c)?'ğŸŒ™':'â˜€ï¸',state[_0xc85115(0x217)]=_0x41f670,localStorage['setItem']('theme',_0x41f670);}function toggleTheme(){const _0x598d4e=a0_0x14f57b,_0x3f8ea1=state[_0x598d4e(0x217)]==='dark'?_0x598d4e(0x1a5):_0x598d4e(0x14c);applyTheme(_0x3f8ea1);}function saveSettings(){const _0x5dcda3=a0_0x14f57b,_0x2f9063=elements[_0x5dcda3(0x161)]['value']['trim'](),_0x25ea77=elements['modelSelect'][_0x5dcda3(0x1c1)];if(!_0x2f9063){alert(_0x5dcda3(0x14a));return;}state[_0x5dcda3(0x158)]=_0x2f9063,state[_0x5dcda3(0x18a)]=_0x25ea77,localStorage[_0x5dcda3(0x133)](_0x5dcda3(0x15f),_0x2f9063),localStorage[_0x5dcda3(0x133)]('gemini_model',_0x25ea77),toggleModal(elements[_0x5dcda3(0x1cc)],![]);}function saveCurrentPrompt(){const _0x5e8c35=a0_0x14f57b,_0x5413b5=elements['systemPrompt'][_0x5e8c35(0x1c1)];state['prompts'][state[_0x5e8c35(0x1da)]]=_0x5413b5,localStorage[_0x5e8c35(0x133)](_0x5e8c35(0x228),JSON['stringify'](state[_0x5e8c35(0x200)]));}function updatePromptField(_0x3aaf39){const _0x50b0f2=a0_0x14f57b;state['currentSubject']=_0x3aaf39,localStorage[_0x50b0f2(0x133)](_0x50b0f2(0x148),_0x3aaf39),elements[_0x50b0f2(0x194)][_0x50b0f2(0x1c1)]=state[_0x50b0f2(0x200)][_0x3aaf39]||DEFAULT_PROMPTS[_0x3aaf39]||DEFAULT_PROMPTS[_0x50b0f2(0x1de)];}function exportPrompts(){const _0x57059f=a0_0x14f57b,_0x5b8d0a=_0x57059f(0x22a)+encodeURIComponent(JSON[_0x57059f(0x1ba)](state[_0x57059f(0x200)],null,0x2)),_0x318473=document[_0x57059f(0x1e4)]('a');_0x318473['setAttribute']('href',_0x5b8d0a),_0x318473[_0x57059f(0x1ff)](_0x57059f(0x198),_0x57059f(0x185)),document[_0x57059f(0x22d)][_0x57059f(0x222)](_0x318473),_0x318473[_0x57059f(0x1c0)](),_0x318473['remove']();}function importPrompts(_0x3cc40c){const _0x4c7117=a0_0x14f57b,_0x527f57=_0x3cc40c[_0x4c7117(0x226)][_0x4c7117(0x1cd)][0x0];if(!_0x527f57)return;const _0x4a34d3=new FileReader();_0x4a34d3[_0x4c7117(0x19f)]=function(_0x466925){const _0x1b769c=_0x4c7117;try{const _0x1d037c=JSON[_0x1b769c(0x1dd)](_0x466925[_0x1b769c(0x226)]['result']);if(typeof _0x1d037c==='object'&&_0x1d037c!==null)state[_0x1b769c(0x200)]={...state[_0x1b769c(0x200)],..._0x1d037c},localStorage[_0x1b769c(0x133)]('subject_prompts',JSON[_0x1b769c(0x1ba)](state[_0x1b769c(0x200)])),updatePromptField(state[_0x1b769c(0x1da)]),alert(_0x1b769c(0x1c6));else throw new Error(_0x1b769c(0x209));}catch(_0x43f39e){console[_0x1b769c(0x231)](_0x43f39e),alert('ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚æ­£ã—ã„JSONãƒ•ã‚¡ã‚¤ãƒ«ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚');}},_0x4a34d3[_0x4c7117(0x156)](_0x527f57),_0x3cc40c[_0x4c7117(0x226)]['value']='';}function setupEventListeners(){const _0x512654=a0_0x14f57b;['question','model',_0x512654(0x21a)]['forEach'](_0x43ddb6=>setupDropZone(_0x43ddb6)),window[_0x512654(0x22b)](_0x512654(0x144),_0xde2990=>_0xde2990[_0x512654(0x13e)]()),window[_0x512654(0x22b)](_0x512654(0x1ca),_0x488dc7=>_0x488dc7[_0x512654(0x13e)]()),elements[_0x512654(0x1f4)][_0x512654(0x22b)](_0x512654(0x1c0),executeGeneration),window[_0x512654(0x22b)](_0x512654(0x147),handlePaste),elements['closePasteBtn'][_0x512654(0x22b)]('click',()=>toggleModal(elements[_0x512654(0x1a1)],![])),elements[_0x512654(0x14e)]['forEach'](_0x219c25=>{const _0x5699a7=_0x512654;_0x219c25[_0x5699a7(0x22b)](_0x5699a7(0x1c0),()=>{const _0x2bfb04=_0x5699a7,_0x18f7e7=_0x219c25[_0x2bfb04(0x1a2)](_0x2bfb04(0x1b0));state[_0x2bfb04(0x16a)][_0x2bfb04(0x1db)]>0x0&&(processFiles(state['pendingPasteFiles'],_0x18f7e7),state[_0x2bfb04(0x16a)]=[]),toggleModal(elements[_0x2bfb04(0x1a1)],![]);});}),elements[_0x512654(0x130)][_0x512654(0x22b)](_0x512654(0x1c0),copyResponse),elements[_0x512654(0x159)][_0x512654(0x22b)]('click',saveAsImage),elements[_0x512654(0x18f)][_0x512654(0x22b)]('click',()=>toggleModal(elements[_0x512654(0x1cc)],!![])),elements[_0x512654(0x151)][_0x512654(0x22b)]('click',()=>toggleModal(elements[_0x512654(0x1cc)],![])),elements[_0x512654(0x18d)]['addEventListener'](_0x512654(0x1c0),saveSettings),document[_0x512654(0x171)](_0x512654(0x157))[_0x512654(0x22b)]('click',exportPrompts),document[_0x512654(0x171)](_0x512654(0x22e))['addEventListener'](_0x512654(0x1c0),()=>document[_0x512654(0x171)](_0x512654(0x19a))[_0x512654(0x1c0)]()),document['getElementById'](_0x512654(0x19a))[_0x512654(0x22b)]('change',importPrompts),document['getElementById'](_0x512654(0x145))[_0x512654(0x22b)](_0x512654(0x1c0),openReadme),document[_0x512654(0x171)](_0x512654(0x21d))[_0x512654(0x22b)]('click',()=>document[_0x512654(0x171)](_0x512654(0x17f))[_0x512654(0x131)]['add'](_0x512654(0x164))),elements[_0x512654(0x152)]['addEventListener'](_0x512654(0x1d1),_0x4f2727=>{const _0x6027b9=_0x512654;saveCurrentPrompt(),updatePromptField(_0x4f2727[_0x6027b9(0x226)]['value']);}),elements[_0x512654(0x194)]['addEventListener'](_0x512654(0x1d6),saveCurrentPrompt),elements['themeToggleBtn'][_0x512654(0x22b)](_0x512654(0x1c0),toggleTheme);}function setupDropZone(_0x363690){const _0x12fcb7=a0_0x14f57b,_0x4faf7f=elements['dropZones'][_0x363690],_0x350b9f=elements[_0x12fcb7(0x1f5)][_0x363690],_0x5418cb=document[_0x12fcb7(0x140)](_0x12fcb7(0x229)+_0x363690+'\x22]'),_0x1bb7e0=_0x5418cb[_0x12fcb7(0x140)]('.clear-zone-btn');if(!_0x4faf7f||!_0x350b9f)return;_0x4faf7f['addEventListener'](_0x12fcb7(0x1c0),()=>_0x350b9f[_0x12fcb7(0x1c0)]()),_0x350b9f[_0x12fcb7(0x22b)]('change',_0x49c984=>handleFileSelect(_0x49c984,_0x363690)),_0x4faf7f[_0x12fcb7(0x22b)](_0x12fcb7(0x144),_0x54ce9b=>{const _0x348226=_0x12fcb7;_0x54ce9b[_0x348226(0x13e)](),_0x5418cb[_0x348226(0x131)][_0x348226(0x213)](_0x348226(0x1ad));}),_0x4faf7f[_0x12fcb7(0x22b)](_0x12fcb7(0x1ea),_0x459c84=>{const _0x11aef0=_0x12fcb7;_0x459c84['preventDefault'](),_0x5418cb[_0x11aef0(0x131)][_0x11aef0(0x1fe)]('active');}),_0x4faf7f['addEventListener'](_0x12fcb7(0x1ca),_0x14a715=>{const _0x94eee8=_0x12fcb7;_0x14a715['preventDefault'](),_0x5418cb[_0x94eee8(0x131)][_0x94eee8(0x1fe)]('active'),handleDrop(_0x14a715,_0x363690);}),_0x5418cb['addEventListener'](_0x12fcb7(0x21f),()=>{state['hoveredZone']=_0x363690;}),_0x5418cb[_0x12fcb7(0x22b)](_0x12fcb7(0x223),()=>{const _0x3ba323=_0x12fcb7;state[_0x3ba323(0x215)]===_0x363690&&(state[_0x3ba323(0x215)]=null);}),_0x1bb7e0&&_0x1bb7e0['addEventListener'](_0x12fcb7(0x1c0),_0x5ee02c=>{_0x5ee02c['stopPropagation'](),clearZone(_0x363690);});}function clearZone(_0x558ce4){const _0x5aef26=a0_0x14f57b;state[_0x5aef26(0x1cd)][_0x558ce4]=[],renderThumbnails(_0x558ce4),updateFileStatus(),elements['inputs'][_0x558ce4]['value']='';}function toggleModal(_0x43d567,_0xf7781e){const _0x320850=a0_0x14f57b;if(_0xf7781e)_0x43d567[_0x320850(0x131)]['remove'](_0x320850(0x164));else _0x43d567['classList'][_0x320850(0x213)](_0x320850(0x164));}async function handleDrop(_0x5ebba2,_0x2d4fb4){const _0x216460=a0_0x14f57b,_0x4324ff=_0x5ebba2[_0x216460(0x1c4)][_0x216460(0x1cd)];if(_0x4324ff['length']>0x0)processFiles(_0x4324ff,_0x2d4fb4);}function handlePaste(_0x194071){const _0x234eeb=a0_0x14f57b,_0x672b0e=_0x194071[_0x234eeb(0x1a9)][_0x234eeb(0x20b)],_0x4826af=[];for(let _0xfbf717=0x0;_0xfbf717<_0x672b0e[_0x234eeb(0x1db)];_0xfbf717++){if(_0x672b0e[_0xfbf717][_0x234eeb(0x135)][_0x234eeb(0x187)]('image')!==-0x1){const _0xb859f9=_0x672b0e[_0xfbf717][_0x234eeb(0x1e0)]();if(_0xb859f9)_0x4826af[_0x234eeb(0x1b7)](_0xb859f9);}}_0x4826af['length']>0x0&&(_0x194071[_0x234eeb(0x13e)](),state['hoveredZone']?processFiles(_0x4826af,state['hoveredZone']):(state[_0x234eeb(0x16a)]=_0x4826af,toggleModal(elements[_0x234eeb(0x1a1)],!![])));}function handleFileSelect(_0x20d2c3,_0x315a16){const _0x1af0b3=a0_0x14f57b,_0x1e728e=_0x20d2c3[_0x1af0b3(0x226)]['files'];if(_0x1e728e[_0x1af0b3(0x1db)]>0x0)processFiles(_0x1e728e,_0x315a16);}async function processFiles(_0x20e0af,_0x114f42){const _0x5b8a0b=a0_0x14f57b,_0x40aa77=Array[_0x5b8a0b(0x143)](_0x20e0af);if(_0x40aa77[_0x5b8a0b(0x1db)]===0x0)return;state[_0x5b8a0b(0x134)]&&(state[_0x5b8a0b(0x1cd)][_0x5b8a0b(0x1b3)]=[],state[_0x5b8a0b(0x1cd)][_0x5b8a0b(0x18a)]=[],state[_0x5b8a0b(0x1cd)][_0x5b8a0b(0x21a)]=[],renderThumbnails('question'),renderThumbnails(_0x5b8a0b(0x18a)),renderThumbnails(_0x5b8a0b(0x21a)),state[_0x5b8a0b(0x134)]=![]);if(!_0x114f42||!state[_0x5b8a0b(0x1cd)][_0x114f42]){alert(_0x5b8a0b(0x1fd)+_0x114f42+')');return;}elements[_0x5b8a0b(0x1f4)][_0x5b8a0b(0x177)]=!![];try{const _0x314a19=_0x40aa77['map'](_0x2e42cc=>{const _0x406a21=_0x5b8a0b;return readFile(_0x2e42cc)[_0x406a21(0x1fb)](_0x376b2c=>{const _0x2fa90a=_0x406a21;return console['error'](_0x2fa90a(0x180)+_0x2e42cc[_0x2fa90a(0x20e)]+':',_0x376b2c),null;});}),_0x2c3a30=await Promise[_0x5b8a0b(0x150)](_0x314a19),_0x11aa42=_0x2c3a30['filter'](_0x47d462=>_0x47d462!==null)['flat']();_0x11aa42[_0x5b8a0b(0x1db)]===0x0&&_0x2c3a30[_0x5b8a0b(0x1db)]>0x0?alert(_0x5b8a0b(0x195)):(state[_0x5b8a0b(0x1cd)][_0x114f42]=[...state[_0x5b8a0b(0x1cd)][_0x114f42],..._0x11aa42],renderThumbnails(_0x114f42)),updateFileStatus(),elements[_0x5b8a0b(0x1f4)][_0x5b8a0b(0x177)]=![],elements[_0x5b8a0b(0x1f4)]['innerHTML']=_0x5b8a0b(0x18b);}catch(_0x294f06){console[_0x5b8a0b(0x231)](_0x294f06),alert(_0x5b8a0b(0x232)+_0x294f06[_0x5b8a0b(0x1c9)]),elements[_0x5b8a0b(0x1f4)][_0x5b8a0b(0x177)]=![];}}function renderThumbnails(_0x50c931){const _0x59821e=a0_0x14f57b,_0x240ac7=elements[_0x59821e(0x1b6)][_0x50c931];_0x240ac7['innerHTML']='';const _0x51ace9=state[_0x59821e(0x1cd)][_0x50c931];if(_0x51ace9[_0x59821e(0x1db)]===0x0){_0x240ac7[_0x59821e(0x131)]['add'](_0x59821e(0x164));return;}_0x240ac7[_0x59821e(0x131)][_0x59821e(0x1fe)](_0x59821e(0x164)),_0x51ace9[_0x59821e(0x221)]((_0x54c4ef,_0x338006)=>{const _0x565358=_0x59821e,_0x3ec72b=document[_0x565358(0x1e4)](_0x565358(0x13a));_0x3ec72b[_0x565358(0x1af)]=_0x565358(0x225)+_0x54c4ef[_0x565358(0x1f8)]+';base64,'+_0x54c4ef[_0x565358(0x15a)],_0x3ec72b['title']=_0x565358(0x13f),_0x3ec72b[_0x565358(0x22b)](_0x565358(0x1c0),_0x568c34=>{const _0x26cb48=_0x565358;_0x568c34[_0x26cb48(0x208)](),removeFile(_0x50c931,_0x338006);}),_0x240ac7[_0x565358(0x222)](_0x3ec72b);});}function removeFile(_0x4289c8,_0x470765){const _0x3de8e6=a0_0x14f57b;state['files'][_0x4289c8][_0x3de8e6(0x17e)](_0x470765,0x1),renderThumbnails(_0x4289c8),updateFileStatus();}function updateFileStatus(){const _0x597b6e=a0_0x14f57b,_0x3acfb9=state['files']['question'][_0x597b6e(0x1db)]+state['files']['model'][_0x597b6e(0x1db)]+state[_0x597b6e(0x1cd)][_0x597b6e(0x21a)]['length'];elements[_0x597b6e(0x1e6)][_0x597b6e(0x20a)]=_0x597b6e(0x142)+_0x3acfb9+_0x597b6e(0x17c)+state[_0x597b6e(0x1cd)][_0x597b6e(0x1b3)]['length']+_0x597b6e(0x191)+state[_0x597b6e(0x1cd)][_0x597b6e(0x18a)]['length']+_0x597b6e(0x1ee)+state[_0x597b6e(0x1cd)][_0x597b6e(0x21a)][_0x597b6e(0x1db)]+')';}function a0_0x1116(_0x142559,_0x1572a9){_0x142559=_0x142559-0x12f;const _0x1f7a5d=a0_0x1f7a();let _0x1116d8=_0x1f7a5d[_0x142559];return _0x1116d8;}async function executeGeneration(){const _0x3721d7=a0_0x14f57b,_0x385853=state[_0x3721d7(0x1cd)][_0x3721d7(0x1b3)][_0x3721d7(0x1db)]+state[_0x3721d7(0x1cd)][_0x3721d7(0x18a)]['length']+state[_0x3721d7(0x1cd)][_0x3721d7(0x21a)][_0x3721d7(0x1db)];if(_0x385853===0x0){alert(_0x3721d7(0x172));return;}if(!state[_0x3721d7(0x158)]){alert(_0x3721d7(0x1ce)),toggleModal(elements[_0x3721d7(0x1cc)],!![]);return;}if(!elements[_0x3721d7(0x1ac)][_0x3721d7(0x1c1)][_0x3721d7(0x1a7)]()){}setLoading(!![]),elements[_0x3721d7(0x1f4)][_0x3721d7(0x177)]=!![];try{await analyzeContent();}catch(_0x83206f){console[_0x3721d7(0x231)](_0x83206f),renderOutput(_0x3721d7(0x1a4)+_0x83206f['message']+_0x3721d7(0x197));}finally{setLoading(![]),elements[_0x3721d7(0x1f4)][_0x3721d7(0x177)]=![];}}async function analyzeContent(){const _0x4709da=a0_0x14f57b,_0x5b5934=elements['systemPrompt'][_0x4709da(0x1c1)],_0x57f49e=elements[_0x4709da(0x1ac)][_0x4709da(0x1c1)],_0x4e4616=_0x4709da(0x1bb),_0x483ec8=[{'text':_0x5b5934+_0x4e4616}];state[_0x4709da(0x1cd)]['question'][_0x4709da(0x1db)]>0x0&&(_0x483ec8[_0x4709da(0x1b7)]({'text':_0x4709da(0x199)}),state[_0x4709da(0x1cd)][_0x4709da(0x1b3)][_0x4709da(0x221)](_0x59286d=>_0x483ec8[_0x4709da(0x1b7)]({'inline_data':{'mime_type':_0x59286d[_0x4709da(0x1f8)],'data':_0x59286d[_0x4709da(0x15a)]}})));state['files']['model'][_0x4709da(0x1db)]>0x0&&(_0x483ec8[_0x4709da(0x1b7)]({'text':_0x4709da(0x1e7)}),state[_0x4709da(0x1cd)][_0x4709da(0x18a)][_0x4709da(0x221)](_0x2ab560=>_0x483ec8[_0x4709da(0x1b7)]({'inline_data':{'mime_type':_0x2ab560[_0x4709da(0x1f8)],'data':_0x2ab560[_0x4709da(0x15a)]}})));state[_0x4709da(0x1cd)][_0x4709da(0x21a)][_0x4709da(0x1db)]>0x0&&(_0x483ec8[_0x4709da(0x1b7)]({'text':_0x4709da(0x1be)}),state['files'][_0x4709da(0x21a)][_0x4709da(0x221)](_0x5c0cd1=>_0x483ec8['push']({'inline_data':{'mime_type':_0x5c0cd1[_0x4709da(0x1f8)],'data':_0x5c0cd1['data']}})));_0x483ec8[_0x4709da(0x1b7)]({'text':_0x4709da(0x190)+(_0x57f49e||'ç”»åƒã‚’è§£æã—ã¦ã€ãã®å†…å®¹ã«ã¤ã„ã¦è§£èª¬ã—ã¦ãã ã•ã„ã€‚')});const _0x108623={'contents':[{'parts':_0x483ec8}],'generationConfig':{'temperature':0.4},'safetySettings':[{'category':'HARM_CATEGORY_HARASSMENT','threshold':_0x4709da(0x178)},{'category':_0x4709da(0x174),'threshold':_0x4709da(0x178)},{'category':_0x4709da(0x18c),'threshold':_0x4709da(0x178)},{'category':_0x4709da(0x1d8),'threshold':_0x4709da(0x178)}]};try{const _0x4c1714=await fetch('https://generativelanguage.googleapis.com/v1beta/models/'+state[_0x4709da(0x18a)]+_0x4709da(0x1d7)+state[_0x4709da(0x158)],{'method':_0x4709da(0x1a0),'headers':{'Content-Type':_0x4709da(0x1ed)},'body':JSON[_0x4709da(0x1ba)](_0x108623)}),_0x518bf1=await _0x4c1714['json']();if(_0x518bf1[_0x4709da(0x231)])throw new Error(_0x518bf1[_0x4709da(0x231)][_0x4709da(0x1c9)]);if(!_0x518bf1[_0x4709da(0x218)]||_0x518bf1[_0x4709da(0x218)][_0x4709da(0x1db)]===0x0){console['error'](_0x4709da(0x1d0),_0x518bf1);if(_0x518bf1[_0x4709da(0x203)]){const _0x5e18df=_0x518bf1[_0x4709da(0x203)][_0x4709da(0x1d9)];throw new Error(_0x4709da(0x216)+_0x5e18df+')');}throw new Error(_0x4709da(0x14d));}const _0x40860a=_0x518bf1[_0x4709da(0x218)][0x0];_0x40860a['finishReason']&&_0x40860a['finishReason']!==_0x4709da(0x13c)&&console['warn'](_0x4709da(0x219),_0x40860a[_0x4709da(0x1b9)]);if(!_0x40860a['content']||!_0x40860a[_0x4709da(0x15d)][_0x4709da(0x1cb)]||!_0x40860a[_0x4709da(0x15d)][_0x4709da(0x1cb)][0x0])throw new Error(_0x4709da(0x154));const _0x104e16=_0x40860a[_0x4709da(0x15d)][_0x4709da(0x1cb)][0x0]['text'],_0xf26110=[...state[_0x4709da(0x1cd)][_0x4709da(0x1b3)],...state[_0x4709da(0x1cd)][_0x4709da(0x18a)],...state[_0x4709da(0x1cd)][_0x4709da(0x21a)]];renderOutput(_0x104e16,_0xf26110);}catch(_0x5d5539){throw _0x5d5539;}finally{elements['fileStatus'][_0x4709da(0x20a)]=_0x4709da(0x170),state['isGenerationFinished']=!![];}}function renderOutput(_0x4ea266,_0x54c597=null){const _0x268713=a0_0x14f57b,_0x47a6eb=_0x268713(0x1f1),_0x2aa116=[],_0x3fc60a=_0x1099bc=>{const _0x3b5a7e=_0x268713,_0x501682=''+_0x47a6eb+_0x2aa116[_0x3b5a7e(0x1db)];return _0x2aa116[_0x3b5a7e(0x1b7)](_0x1099bc),_0x501682;};let _0x1298ba=_0x4ea266;_0x1298ba=_0x1298ba[_0x268713(0x1e3)](/\$\$([\s\S]*?)\$\$/g,_0x40812b=>_0x3fc60a(_0x40812b)),_0x1298ba=_0x1298ba[_0x268713(0x1e3)](/\\\[([\s\S]*?)\\\]/g,_0x62c993=>_0x3fc60a(_0x62c993)),_0x1298ba=_0x1298ba['replace'](/\\\(([\s\S]*?)\\\)/g,_0x471e9f=>_0x3fc60a(_0x471e9f)),_0x1298ba=_0x1298ba[_0x268713(0x1e3)](/\$([^$\n]+?)\$/g,_0x14780f=>_0x3fc60a(_0x14780f)),_0x1298ba=_0x1298ba['replace'](/(\\begin\{([a-z]+)\*?\}([\s\S]*?)\\end\{\2\*?\})/g,_0x1998ea=>{return _0x3fc60a('$$'+_0x1998ea+'$$');});let _0x3a163a=marked[_0x268713(0x1dd)](_0x1298ba,{'breaks':!![]});for(let _0x506afc=_0x2aa116[_0x268713(0x1db)]-0x1;_0x506afc>=0x0;_0x506afc--){const _0x4f9769=_0x2aa116[_0x506afc],_0x16bca5=''+_0x47a6eb+_0x506afc,_0xb5eae6=new RegExp(_0x16bca5,'g');_0x3a163a=_0x3a163a['replace'](_0xb5eae6,()=>_0x4f9769);}if(_0x54c597&&Array[_0x268713(0x1c2)](_0x54c597)){let _0x45e0b6=_0x268713(0x1f3);_0x54c597[_0x268713(0x221)](_0x1288d1=>{const _0x302125=_0x268713,_0xbf2ab4='data:'+_0x1288d1[_0x302125(0x1f8)]+_0x302125(0x1fa)+_0x1288d1[_0x302125(0x15a)];_0x45e0b6+=_0x302125(0x1a8)+_0xbf2ab4+_0x302125(0x1b1);}),_0x45e0b6+=_0x268713(0x20c),_0x3a163a=_0x45e0b6+_0x3a163a;}elements[_0x268713(0x1f2)][_0x268713(0x176)]=_0x3a163a,elements[_0x268713(0x230)][_0x268713(0x131)]['remove'](_0x268713(0x164)),elements[_0x268713(0x130)][_0x268713(0x131)][_0x268713(0x1fe)](_0x268713(0x164)),elements['screenshotBtn'][_0x268713(0x131)][_0x268713(0x1fe)]('hidden'),state[_0x268713(0x16b)]=_0x4ea266,window[_0x268713(0x168)]&&renderMathInElement(elements['responseArea'],{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'\x5c[','right':'\x5c]','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]}],'throwOnError':![]});}async function readFile(_0x181735){const _0xd19d2d=a0_0x14f57b;if(_0x181735[_0xd19d2d(0x135)][_0xd19d2d(0x1e1)]('image/'))return new Promise((_0x4f1dea,_0xd69e38)=>{const _0x49f296=_0xd19d2d,_0x2ac514=new FileReader();_0x2ac514['onload']=_0x8cb067=>{const _0x1f1714=a0_0x1116,_0x188d2e=_0x8cb067[_0x1f1714(0x226)][_0x1f1714(0x212)][_0x1f1714(0x1c7)](',')[0x1];_0x4f1dea([{'mimeType':_0x181735[_0x1f1714(0x135)],'data':_0x188d2e}]);},_0x2ac514[_0x49f296(0x204)]=_0xd69e38,_0x2ac514['readAsDataURL'](_0x181735);});else{if(_0x181735[_0xd19d2d(0x135)]===_0xd19d2d(0x22f)){const _0x2c596a=await _0x181735[_0xd19d2d(0x202)]();return await convertPdfToImage(_0x2c596a);}else throw new Error('å¯¾å¿œã—ã¦ã„ãªã„ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã§ã™\x20(ç”»åƒã¾ãŸã¯PDFã®ã¿)');}}async function convertPdfToImage(_0xa02a4e){const _0x1e2760=a0_0x14f57b;if(typeof pdfjsLib===_0x1e2760(0x1d2))throw new Error(_0x1e2760(0x17d));try{const _0xb1336=pdfjsLib['getDocument']({'data':_0xa02a4e}),_0x4f737c=await _0xb1336['promise'],_0x109ec5=_0x4f737c[_0x1e2760(0x1f9)],_0x53fff3=[],_0x183698=0xa,_0x1dbd74=Math[_0x1e2760(0x1d3)](_0x109ec5,_0x183698);_0x109ec5>_0x183698&&console[_0x1e2760(0x163)](_0x1e2760(0x14f)+_0x109ec5+_0x1e2760(0x1e8)+_0x183698+_0x1e2760(0x155));for(let _0x531e0e=0x1;_0x531e0e<=_0x1dbd74;_0x531e0e++){const _0x365ca0=await _0x4f737c['getPage'](_0x531e0e),_0xacf4af=_0x365ca0[_0x1e2760(0x1cf)]({'scale':0x2}),_0x394875=document[_0x1e2760(0x1e4)](_0x1e2760(0x182)),_0xc18465=_0x394875['getContext']('2d');_0x394875['height']=_0xacf4af[_0x1e2760(0x1dc)],_0x394875[_0x1e2760(0x1bf)]=_0xacf4af[_0x1e2760(0x1bf)];const _0x156829={'canvasContext':_0xc18465,'viewport':_0xacf4af};_0xc18465['fillStyle']=_0x1e2760(0x211),_0xc18465[_0x1e2760(0x1a6)](0x0,0x0,_0x394875[_0x1e2760(0x1bf)],_0x394875[_0x1e2760(0x1dc)]),await _0x365ca0[_0x1e2760(0x16d)](_0x156829)[_0x1e2760(0x181)];const _0xab8d42=_0x394875[_0x1e2760(0x169)]('image/jpeg',0.95);_0x53fff3[_0x1e2760(0x1b7)]({'mimeType':_0x1e2760(0x132),'data':_0xab8d42[_0x1e2760(0x1c7)](',')[0x1]});}return _0x53fff3;}catch(_0x3bc779){console[_0x1e2760(0x231)](_0x1e2760(0x136),_0x3bc779);throw new Error(_0x1e2760(0x1b2)+_0x3bc779[_0x1e2760(0x1c9)]);}}function copyResponse(){const _0x452846=a0_0x14f57b,_0x281135=elements[_0x452846(0x1f2)][_0x452846(0x1b4)](!![]),_0x43c2e5=_0x281135[_0x452846(0x207)]('img');while(_0x43c2e5['length']>0x0){_0x43c2e5[0x0]['remove']();}const _0x51dc9f=_0x281135['getElementsByTagName']('hr');while(_0x51dc9f['length']>0x0){_0x51dc9f[0x0][_0x452846(0x1fe)]();}const _0x518abc=_0x281135[_0x452846(0x224)][_0x452846(0x1a7)]();navigator[_0x452846(0x16e)][_0x452846(0x1ef)](_0x518abc)[_0x452846(0x162)](()=>{const _0x49a717=_0x452846,_0x421bf6=elements[_0x49a717(0x130)][_0x49a717(0x20a)];elements['copyBtn'][_0x49a717(0x20a)]='âœ…',setTimeout(()=>{const _0x4fa1b6=_0x49a717;elements[_0x4fa1b6(0x130)][_0x4fa1b6(0x20a)]=_0x421bf6;},0x7d0);})['catch'](_0x25b3e0=>{const _0x46e55f=_0x452846;console['error']('Copy\x20failed',_0x25b3e0),alert(_0x46e55f(0x1fc));});}function setLoading(_0x20bd78){const _0x173241=a0_0x14f57b;_0x20bd78?(elements[_0x173241(0x19b)][_0x173241(0x131)][_0x173241(0x1fe)](_0x173241(0x164)),elements[_0x173241(0x1f2)][_0x173241(0x188)][_0x173241(0x1bd)]=_0x173241(0x1f6),elements['copyBtn']['classList'][_0x173241(0x213)](_0x173241(0x164)),elements[_0x173241(0x159)][_0x173241(0x131)][_0x173241(0x213)](_0x173241(0x164))):(elements[_0x173241(0x19b)][_0x173241(0x131)][_0x173241(0x213)](_0x173241(0x164)),elements[_0x173241(0x1f2)][_0x173241(0x188)][_0x173241(0x1bd)]='1');}function saveAsImage(){const _0x22ad01=a0_0x14f57b,_0x55f7d8=elements['responseArea'],_0x5111c2=_0x55f7d8['style'][_0x22ad01(0x1d5)],_0x429088=document[_0x22ad01(0x22d)][_0x22ad01(0x1a2)]('data-theme'),_0x4c0adb=_0x429088==='light'?_0x22ad01(0x19d):_0x22ad01(0x210),_0x5a5970=_0x429088===_0x22ad01(0x1a5)?_0x22ad01(0x22c):_0x22ad01(0x179);_0x55f7d8[_0x22ad01(0x188)][_0x22ad01(0x1d5)]=_0x4c0adb;const _0x446c0e=_0x55f7d8[_0x22ad01(0x188)]['padding'];_0x55f7d8['style'][_0x22ad01(0x166)]=_0x22ad01(0x14b),html2canvas(_0x55f7d8,{'useCORS':!![],'scale':0x2,'backgroundColor':_0x5a5970,'logging':![]})[_0x22ad01(0x162)](_0x498900=>{const _0x430167=_0x22ad01;_0x55f7d8[_0x430167(0x188)][_0x430167(0x1d5)]=_0x5111c2,_0x55f7d8['style'][_0x430167(0x166)]=_0x446c0e;const _0x33ca79=document[_0x430167(0x1e4)]('a');_0x33ca79['download']=_0x430167(0x138)+Date[_0x430167(0x17a)]()+_0x430167(0x1df),_0x33ca79['href']=_0x498900[_0x430167(0x169)](_0x430167(0x186)),_0x33ca79[_0x430167(0x1c0)]();})[_0x22ad01(0x1fb)](_0x429a0c=>{const _0x3eb593=_0x22ad01;console[_0x3eb593(0x231)](_0x429a0c),_0x55f7d8[_0x3eb593(0x188)][_0x3eb593(0x1d5)]=_0x5111c2,_0x55f7d8[_0x3eb593(0x188)][_0x3eb593(0x166)]=_0x446c0e,alert(_0x3eb593(0x192));});}function toggleEditMode(_0x27f350){const _0x4b003c=a0_0x14f57b;_0x27f350?(elements[_0x4b003c(0x1f2)][_0x4b003c(0x131)][_0x4b003c(0x213)](_0x4b003c(0x164)),elements[_0x4b003c(0x149)][_0x4b003c(0x131)][_0x4b003c(0x1fe)](_0x4b003c(0x164)),elements['responseEditor'][_0x4b003c(0x1c1)]=state[_0x4b003c(0x16b)]||'',elements[_0x4b003c(0x230)][_0x4b003c(0x131)]['add'](_0x4b003c(0x164)),elements['copyBtn']['classList'][_0x4b003c(0x213)](_0x4b003c(0x164)),elements['screenshotBtn']['classList'][_0x4b003c(0x213)](_0x4b003c(0x164)),elements[_0x4b003c(0x1eb)][_0x4b003c(0x131)][_0x4b003c(0x1fe)](_0x4b003c(0x164))):(elements['responseArea'][_0x4b003c(0x131)][_0x4b003c(0x1fe)](_0x4b003c(0x164)),elements[_0x4b003c(0x149)]['classList']['add'](_0x4b003c(0x164)),elements[_0x4b003c(0x230)][_0x4b003c(0x131)][_0x4b003c(0x1fe)](_0x4b003c(0x164)),elements[_0x4b003c(0x130)][_0x4b003c(0x131)][_0x4b003c(0x1fe)]('hidden'),elements[_0x4b003c(0x159)][_0x4b003c(0x131)]['remove'](_0x4b003c(0x164)),elements[_0x4b003c(0x1eb)]['classList']['add'](_0x4b003c(0x164)));}function saveEdit(){const _0x17be1e=a0_0x14f57b,_0x2749ec=elements[_0x17be1e(0x149)][_0x17be1e(0x1c1)];state['currentMarkdown']=_0x2749ec;const _0x26fb23=[...state[_0x17be1e(0x1cd)][_0x17be1e(0x1b3)],...state['files'][_0x17be1e(0x18a)],...state[_0x17be1e(0x1cd)]['student']];renderOutput(_0x2749ec,_0x26fb23),toggleEditMode(![]);}function cancelEdit(){toggleEditMode(![]);}async function openReadme(){const _0x30dd07=a0_0x14f57b,_0x306aca=document[_0x30dd07(0x171)]('readme-modal'),_0x509515=document[_0x30dd07(0x171)]('readme-content');toggleModal(elements[_0x30dd07(0x1cc)],![]),toggleModal(_0x306aca,!![]),_0x509515[_0x30dd07(0x176)]=_0x30dd07(0x227);try{const _0x3cadd4=await fetch(_0x30dd07(0x206));if(!_0x3cadd4['ok'])throw new Error(_0x30dd07(0x1bc)+_0x3cadd4[_0x30dd07(0x141)]);const _0x36b1b3=await _0x3cadd4[_0x30dd07(0x184)](),_0x37cca0=marked[_0x30dd07(0x1dd)](_0x36b1b3);_0x509515[_0x30dd07(0x176)]=_0x37cca0;}catch(_0x55569d){console[_0x30dd07(0x231)](_0x30dd07(0x20f),_0x55569d),_0x509515[_0x30dd07(0x176)]=_0x30dd07(0x15c)+_0x55569d[_0x30dd07(0x1c9)]+'</p>';}}init();