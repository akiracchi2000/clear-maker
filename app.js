const a0_0x3de9a4=a0_0x3b5f;(function(_0x5a23c0,_0x4ff687){const _0x490e6e=a0_0x3b5f,_0x52bda5=_0x5a23c0();while(!![]){try{const _0x15e71d=-parseInt(_0x490e6e(0x175))/0x1*(parseInt(_0x490e6e(0x143))/0x2)+parseInt(_0x490e6e(0x1bd))/0x3*(parseInt(_0x490e6e(0xf5))/0x4)+-parseInt(_0x490e6e(0x191))/0x5+-parseInt(_0x490e6e(0x134))/0x6+-parseInt(_0x490e6e(0xfb))/0x7*(parseInt(_0x490e6e(0x125))/0x8)+parseInt(_0x490e6e(0xdb))/0x9*(-parseInt(_0x490e6e(0xf9))/0xa)+parseInt(_0x490e6e(0x164))/0xb;if(_0x15e71d===_0x4ff687)break;else _0x52bda5['push'](_0x52bda5['shift']());}catch(_0x26bc66){_0x52bda5['push'](_0x52bda5['shift']());}}}(a0_0x5c5a,0x5ad87));const elements={'dropOverlay':document['getElementById'](a0_0x3de9a4(0x194)),'settingsModal':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0x1a4)),'openSettingsBtn':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0x118)),'closeSettingsBtn':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0x14a)),'saveSettingsBtn':document[a0_0x3de9a4(0xf7)]('save-settings'),'apiKeyInput':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0xde)),'modelSelect':document['getElementById']('model-select'),'subjectSelect':document[a0_0x3de9a4(0xf7)]('subject-select'),'systemPrompt':document[a0_0x3de9a4(0xf7)]('system-prompt'),'userPrompt':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0x162)),'fileStatus':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0x123)),'responseArea':document[a0_0x3de9a4(0xf7)]('response-area'),'loadingIndicator':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0x141)),'generateBtn':document[a0_0x3de9a4(0xf7)]('generate-btn'),'copyBtn':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0x15c)),'screenshotBtn':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0x17b)),'themeToggleBtn':document[a0_0x3de9a4(0xf7)]('theme-toggle'),'editBtn':document['getElementById'](a0_0x3de9a4(0x13c)),'responseEditor':document['getElementById'](a0_0x3de9a4(0x1b4)),'editActions':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0x177)),'saveEditBtn':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0x12c)),'cancelEditBtn':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0x1bc)),'pasteModal':document[a0_0x3de9a4(0xf7)]('paste-modal'),'closePasteBtn':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0x140)),'pasteOptions':document[a0_0x3de9a4(0x1a7)](a0_0x3de9a4(0x11f)),'dropZones':{'question':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0x137)),'model':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0xd5)),'student':document['getElementById'](a0_0x3de9a4(0x1aa))},'inputs':{'question':document[a0_0x3de9a4(0xf7)]('file-input-question'),'model':document[a0_0x3de9a4(0xf7)]('file-input-model'),'student':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0xd9))},'thumbs':{'question':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0xe1)),'model':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0xf2)),'student':document[a0_0x3de9a4(0xf7)](a0_0x3de9a4(0x172))}};elements[a0_0x3de9a4(0x1c4)][a0_0x3de9a4(0x167)]('click',copyResponse),elements['screenshotBtn'][a0_0x3de9a4(0x167)]('click',saveAsImage),elements[a0_0x3de9a4(0x182)][a0_0x3de9a4(0x167)](a0_0x3de9a4(0x168),()=>toggleEditMode(!![])),elements[a0_0x3de9a4(0x159)]['addEventListener']('click',saveEdit),elements['cancelEditBtn']['addEventListener']('click',cancelEdit);let state={'currentSubject':'other','currentMarkdown':'','hoveredZone':null,'pendingPasteFiles':[],'theme':a0_0x3de9a4(0x1c5),'prompts':{},'apiKey':'','model':a0_0x3de9a4(0x171),'files':{'question':[],'model':[],'student':[]},'isGenerationFinished':![]};const DEFAULT_PROMPTS={'math':a0_0x3de9a4(0xdf),'english':a0_0x3de9a4(0x144),'science':a0_0x3de9a4(0x174),'social':'ã‚ãªãŸã¯ç¤¾ä¼šç§‘ã®æ•™å¸«ã§ã™ã€‚æ­´å²ã€åœ°ç†ã€å…¬æ°‘ãªã©ã®å•é¡Œã‚’èƒŒæ™¯çŸ¥è­˜ã¨ã¨ã‚‚ã«è§£èª¬ã—ã¦ãã ã•ã„ã€‚','japanese':a0_0x3de9a4(0x10b),'other':a0_0x3de9a4(0x18a)};function init(){const _0x21a9a3=a0_0x3de9a4;loadSettings(),setupEventListeners(),updatePromptField(state[_0x21a9a3(0x128)]);}function loadSettings(){const _0x1a827f=a0_0x3de9a4;state[_0x1a827f(0x183)]=localStorage['getItem'](_0x1a827f(0x1af))||'',state[_0x1a827f(0xf0)]=localStorage[_0x1a827f(0x11d)](_0x1a827f(0x132))||'gemini-3-pro-preview',state[_0x1a827f(0x128)]=localStorage['getItem'](_0x1a827f(0x124))||_0x1a827f(0x12a),state[_0x1a827f(0x189)]=localStorage[_0x1a827f(0x11d)](_0x1a827f(0x189))||_0x1a827f(0x1c5),applyTheme(state[_0x1a827f(0x189)]);const _0x7ea8b5=localStorage[_0x1a827f(0x11d)]('subject_prompts');state[_0x1a827f(0x196)]=_0x7ea8b5?JSON[_0x1a827f(0x10a)](_0x7ea8b5):{...DEFAULT_PROMPTS},elements['apiKeyInput'][_0x1a827f(0x153)]=state[_0x1a827f(0x183)],elements[_0x1a827f(0xfa)]['value']=state[_0x1a827f(0xf0)],elements[_0x1a827f(0x16b)][_0x1a827f(0x153)]=state[_0x1a827f(0x128)];}function applyTheme(_0x24f147){const _0x290825=a0_0x3de9a4;document['body'][_0x290825(0x161)](_0x290825(0x1ac),_0x24f147),elements[_0x290825(0x103)]['textContent']=_0x24f147===_0x290825(0x1c5)?'ğŸŒ™':'â˜€ï¸',state[_0x290825(0x189)]=_0x24f147,localStorage[_0x290825(0x1b3)](_0x290825(0x189),_0x24f147);}function toggleTheme(){const _0x4aa3d6=a0_0x3de9a4,_0x5040eb=state['theme']===_0x4aa3d6(0x1c5)?_0x4aa3d6(0x139):_0x4aa3d6(0x1c5);applyTheme(_0x5040eb);}function saveSettings(){const _0x1aaec0=a0_0x3de9a4,_0x507c7b=elements['apiKeyInput'][_0x1aaec0(0x153)][_0x1aaec0(0x148)](),_0x161de7=elements[_0x1aaec0(0xfa)][_0x1aaec0(0x153)];if(!_0x507c7b){alert(_0x1aaec0(0x192));return;}state[_0x1aaec0(0x183)]=_0x507c7b,state['model']=_0x161de7,localStorage['setItem'](_0x1aaec0(0x1af),_0x507c7b),localStorage[_0x1aaec0(0x1b3)](_0x1aaec0(0x132),_0x161de7),toggleModal(elements[_0x1aaec0(0x178)],![]);}function saveCurrentPrompt(){const _0x4222ef=a0_0x3de9a4,_0x1ef529=elements[_0x4222ef(0xe6)]['value'];state[_0x4222ef(0x196)][state[_0x4222ef(0x128)]]=_0x1ef529,localStorage['setItem']('subject_prompts',JSON[_0x4222ef(0x1b9)](state[_0x4222ef(0x196)]));}function updatePromptField(_0x360e18){const _0x58164a=a0_0x3de9a4;state[_0x58164a(0x128)]=_0x360e18,localStorage[_0x58164a(0x1b3)](_0x58164a(0x124),_0x360e18),elements['systemPrompt'][_0x58164a(0x153)]=state[_0x58164a(0x196)][_0x360e18]||DEFAULT_PROMPTS[_0x360e18]||DEFAULT_PROMPTS[_0x58164a(0x12a)];}function exportPrompts(){const _0x53f378=a0_0x3de9a4,_0x556585=_0x53f378(0xe0)+encodeURIComponent(JSON['stringify'](state[_0x53f378(0x196)],null,0x2)),_0x39251c=document[_0x53f378(0x12f)]('a');_0x39251c[_0x53f378(0x161)]('href',_0x556585),_0x39251c[_0x53f378(0x161)](_0x53f378(0x12b),_0x53f378(0x120)),document[_0x53f378(0x16a)][_0x53f378(0x10f)](_0x39251c),_0x39251c[_0x53f378(0x168)](),_0x39251c[_0x53f378(0xe7)]();}function importPrompts(_0x2fe4c2){const _0x10ca46=a0_0x3de9a4,_0x43635f=_0x2fe4c2['target'][_0x10ca46(0x15f)][0x0];if(!_0x43635f)return;const _0x4f8f12=new FileReader();_0x4f8f12[_0x10ca46(0x10e)]=function(_0x191cb6){const _0x4c725a=_0x10ca46;try{const _0x1e92ab=JSON['parse'](_0x191cb6[_0x4c725a(0x1a0)]['result']);if(typeof _0x1e92ab==='object'&&_0x1e92ab!==null)state[_0x4c725a(0x196)]={...state[_0x4c725a(0x196)],..._0x1e92ab},localStorage[_0x4c725a(0x1b3)](_0x4c725a(0x19c),JSON[_0x4c725a(0x1b9)](state[_0x4c725a(0x196)])),updatePromptField(state['currentSubject']),alert('ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­å®šã‚’å¾©å…ƒã—ã¾ã—ãŸï¼');else throw new Error('Invalid\x20JSON\x20structure');}catch(_0xf71cf2){console['error'](_0xf71cf2),alert(_0x4c725a(0xd8));}},_0x4f8f12[_0x10ca46(0xf1)](_0x43635f),_0x2fe4c2['target'][_0x10ca46(0x153)]='';}function setupEventListeners(){const _0x5e2d89=a0_0x3de9a4;[_0x5e2d89(0xf6),_0x5e2d89(0xf0),_0x5e2d89(0x113)][_0x5e2d89(0x151)](_0x5bcc16=>setupDropZone(_0x5bcc16)),window[_0x5e2d89(0x167)](_0x5e2d89(0x187),_0x40d70f=>_0x40d70f[_0x5e2d89(0x157)]()),window[_0x5e2d89(0x167)](_0x5e2d89(0x147),_0x49283a=>_0x49283a[_0x5e2d89(0x157)]()),elements[_0x5e2d89(0x15b)][_0x5e2d89(0x167)](_0x5e2d89(0x168),executeGeneration),window[_0x5e2d89(0x167)](_0x5e2d89(0x1b2),handlePaste),elements[_0x5e2d89(0x122)][_0x5e2d89(0x167)](_0x5e2d89(0x168),()=>toggleModal(elements[_0x5e2d89(0xdd)],![])),elements[_0x5e2d89(0x14f)]['forEach'](_0x18da24=>{const _0x200a9b=_0x5e2d89;_0x18da24[_0x200a9b(0x167)]('click',()=>{const _0x47a6ec=_0x200a9b,_0x16feef=_0x18da24[_0x47a6ec(0x115)](_0x47a6ec(0xec));state[_0x47a6ec(0x146)][_0x47a6ec(0x14c)]>0x0&&(processFiles(state[_0x47a6ec(0x146)],_0x16feef),state[_0x47a6ec(0x146)]=[]),toggleModal(elements['pasteModal'],![]);});}),elements[_0x5e2d89(0x1c4)]['addEventListener'](_0x5e2d89(0x168),copyResponse),elements[_0x5e2d89(0x1ad)][_0x5e2d89(0x167)](_0x5e2d89(0x168),saveAsImage),elements[_0x5e2d89(0x17c)][_0x5e2d89(0x167)](_0x5e2d89(0x168),()=>toggleModal(elements['settingsModal'],!![])),elements[_0x5e2d89(0x155)][_0x5e2d89(0x167)](_0x5e2d89(0x168),()=>toggleModal(elements[_0x5e2d89(0x178)],![])),elements[_0x5e2d89(0x1a2)][_0x5e2d89(0x167)]('click',saveSettings),document[_0x5e2d89(0xf7)](_0x5e2d89(0xea))['addEventListener']('click',exportPrompts),document[_0x5e2d89(0xf7)](_0x5e2d89(0xd3))[_0x5e2d89(0x167)](_0x5e2d89(0x168),()=>document[_0x5e2d89(0xf7)](_0x5e2d89(0x154))[_0x5e2d89(0x168)]()),document[_0x5e2d89(0xf7)](_0x5e2d89(0x154))[_0x5e2d89(0x167)](_0x5e2d89(0x145),importPrompts),elements[_0x5e2d89(0x16b)]['addEventListener']('change',_0x2b7aa1=>{const _0x4fa72b=_0x5e2d89;saveCurrentPrompt(),updatePromptField(_0x2b7aa1[_0x4fa72b(0x1a0)]['value']);}),elements[_0x5e2d89(0xe6)][_0x5e2d89(0x167)](_0x5e2d89(0x17d),saveCurrentPrompt),elements[_0x5e2d89(0x103)]['addEventListener']('click',toggleTheme);}function setupDropZone(_0x5f5650){const _0xe24ce0=a0_0x3de9a4,_0x1906ae=elements[_0xe24ce0(0x19b)][_0x5f5650],_0x5777b4=elements[_0xe24ce0(0x112)][_0x5f5650],_0x558d83=document[_0xe24ce0(0x135)](_0xe24ce0(0x188)+_0x5f5650+'\x22]'),_0x25f221=_0x558d83['querySelector'](_0xe24ce0(0xef));if(!_0x1906ae||!_0x5777b4)return;_0x1906ae[_0xe24ce0(0x167)](_0xe24ce0(0x168),()=>_0x5777b4[_0xe24ce0(0x168)]()),_0x5777b4[_0xe24ce0(0x167)](_0xe24ce0(0x145),_0x2cfeef=>handleFileSelect(_0x2cfeef,_0x5f5650)),_0x1906ae[_0xe24ce0(0x167)]('dragover',_0x8c3e2b=>{const _0x3d6d1b=_0xe24ce0;_0x8c3e2b[_0x3d6d1b(0x157)](),_0x558d83[_0x3d6d1b(0xee)]['add'](_0x3d6d1b(0x116));}),_0x1906ae[_0xe24ce0(0x167)](_0xe24ce0(0x1b0),_0x5016cd=>{const _0x1a6b05=_0xe24ce0;_0x5016cd['preventDefault'](),_0x558d83[_0x1a6b05(0xee)]['remove'](_0x1a6b05(0x116));}),_0x1906ae[_0xe24ce0(0x167)](_0xe24ce0(0x147),_0x417048=>{const _0x50dfce=_0xe24ce0;_0x417048[_0x50dfce(0x157)](),_0x558d83[_0x50dfce(0xee)][_0x50dfce(0xe7)](_0x50dfce(0x116)),handleDrop(_0x417048,_0x5f5650);}),_0x558d83[_0xe24ce0(0x167)](_0xe24ce0(0x117),()=>{const _0x141105=_0xe24ce0;state[_0x141105(0x104)]=_0x5f5650;}),_0x558d83['addEventListener'](_0xe24ce0(0x18b),()=>{const _0x3997da=_0xe24ce0;state[_0x3997da(0x104)]===_0x5f5650&&(state[_0x3997da(0x104)]=null);}),_0x25f221&&_0x25f221[_0xe24ce0(0x167)](_0xe24ce0(0x168),_0x102bd3=>{const _0xfff88c=_0xe24ce0;_0x102bd3[_0xfff88c(0x156)](),clearZone(_0x5f5650);});}function clearZone(_0x3d6c83){const _0xd668a8=a0_0x3de9a4;state[_0xd668a8(0x15f)][_0x3d6c83]=[],renderThumbnails(_0x3d6c83),updateFileStatus(),elements[_0xd668a8(0x112)][_0x3d6c83][_0xd668a8(0x153)]='';}function toggleModal(_0xb5d97d,_0x20e598){const _0x11862b=a0_0x3de9a4;if(_0x20e598)_0xb5d97d['classList'][_0x11862b(0xe7)]('hidden');else _0xb5d97d[_0x11862b(0xee)][_0x11862b(0x1a6)]('hidden');}async function handleDrop(_0x2488a7,_0x29bbca){const _0x4d71a9=a0_0x3de9a4,_0x2e3939=_0x2488a7[_0x4d71a9(0x18f)]['files'];if(_0x2e3939[_0x4d71a9(0x14c)]>0x0)processFiles(_0x2e3939,_0x29bbca);}function handlePaste(_0x8a7c7e){const _0x51e211=a0_0x3de9a4,_0x4ae134=_0x8a7c7e['clipboardData'][_0x51e211(0x18e)],_0x5abb23=[];for(let _0x210630=0x0;_0x210630<_0x4ae134[_0x51e211(0x14c)];_0x210630++){if(_0x4ae134[_0x210630][_0x51e211(0x198)][_0x51e211(0x126)](_0x51e211(0x119))!==-0x1){const _0x40ed3c=_0x4ae134[_0x210630][_0x51e211(0xe2)]();if(_0x40ed3c)_0x5abb23[_0x51e211(0x1c1)](_0x40ed3c);}}_0x5abb23[_0x51e211(0x14c)]>0x0&&(_0x8a7c7e[_0x51e211(0x157)](),state['hoveredZone']?processFiles(_0x5abb23,state[_0x51e211(0x104)]):(state[_0x51e211(0x146)]=_0x5abb23,toggleModal(elements[_0x51e211(0xdd)],!![])));}function handleFileSelect(_0x33ba9c,_0x4c6f63){const _0x569202=a0_0x3de9a4,_0x530707=_0x33ba9c[_0x569202(0x1a0)][_0x569202(0x15f)];if(_0x530707[_0x569202(0x14c)]>0x0)processFiles(_0x530707,_0x4c6f63);}async function processFiles(_0x4d5939,_0x3a7a12){const _0x93d6ed=a0_0x3de9a4,_0x23b20e=Array[_0x93d6ed(0x184)](_0x4d5939);if(_0x23b20e[_0x93d6ed(0x14c)]===0x0)return;state[_0x93d6ed(0x163)]&&(state[_0x93d6ed(0x15f)]['question']=[],state[_0x93d6ed(0x15f)][_0x93d6ed(0xf0)]=[],state[_0x93d6ed(0x15f)]['student']=[],renderThumbnails(_0x93d6ed(0xf6)),renderThumbnails(_0x93d6ed(0xf0)),renderThumbnails('student'),state[_0x93d6ed(0x163)]=![]);if(!_0x3a7a12||!state[_0x93d6ed(0x15f)][_0x3a7a12]){alert(_0x93d6ed(0xe5)+_0x3a7a12+')');return;}elements[_0x93d6ed(0x15b)][_0x93d6ed(0x176)]=!![];try{const _0x2e4c30=_0x23b20e[_0x93d6ed(0x127)](_0x33c43f=>{const _0x57e366=_0x93d6ed;return readFile(_0x33c43f)[_0x57e366(0x107)](_0x2af007=>{const _0x4bf2a4=_0x57e366;return console[_0x4bf2a4(0x160)]('Skipped\x20file\x20'+_0x33c43f[_0x4bf2a4(0x1a5)]+':',_0x2af007),null;});}),_0x24fe01=await Promise[_0x93d6ed(0x169)](_0x2e4c30),_0x14812b=_0x24fe01['filter'](_0xb56681=>_0xb56681!==null)['flat']();_0x14812b[_0x93d6ed(0x14c)]===0x0&&_0x24fe01[_0x93d6ed(0x14c)]>0x0?alert(_0x93d6ed(0x109)):(state['files'][_0x3a7a12]=[...state['files'][_0x3a7a12],..._0x14812b],renderThumbnails(_0x3a7a12)),updateFileStatus(),elements[_0x93d6ed(0x15b)][_0x93d6ed(0x176)]=![],elements[_0x93d6ed(0x15b)][_0x93d6ed(0x14e)]=_0x93d6ed(0x138);}catch(_0x3b860e){console[_0x93d6ed(0x160)](_0x3b860e),alert(_0x93d6ed(0x1be)+_0x3b860e[_0x93d6ed(0x110)]),elements[_0x93d6ed(0x15b)]['disabled']=![];}}function renderThumbnails(_0x5fe926){const _0x34300d=a0_0x3de9a4,_0x414d96=elements[_0x34300d(0x12d)][_0x5fe926];_0x414d96[_0x34300d(0x14e)]='';const _0x4d59cd=state[_0x34300d(0x15f)][_0x5fe926];if(_0x4d59cd[_0x34300d(0x14c)]===0x0){_0x414d96[_0x34300d(0xee)]['add']('hidden');return;}_0x414d96['classList'][_0x34300d(0xe7)](_0x34300d(0xeb)),_0x4d59cd[_0x34300d(0x151)]((_0xc0651f,_0x5d9fd3)=>{const _0x5231d3=_0x34300d,_0x2b7c42=document['createElement']('img');_0x2b7c42[_0x5231d3(0x17e)]=_0x5231d3(0x1ae)+_0xc0651f[_0x5231d3(0x106)]+';base64,'+_0xc0651f[_0x5231d3(0xe8)],_0x2b7c42['title']=_0x5231d3(0x13f),_0x2b7c42[_0x5231d3(0x167)](_0x5231d3(0x168),_0x35b5d8=>{_0x35b5d8['stopPropagation'](),removeFile(_0x5fe926,_0x5d9fd3);}),_0x414d96[_0x5231d3(0x10f)](_0x2b7c42);});}function a0_0x3b5f(_0x3fca76,_0x18c966){_0x3fca76=_0x3fca76-0xd3;const _0x5c5a6a=a0_0x5c5a();let _0x3b5f20=_0x5c5a6a[_0x3fca76];return _0x3b5f20;}function removeFile(_0x14e08b,_0x3ef570){const _0x2fdc7c=a0_0x3de9a4;state['files'][_0x14e08b][_0x2fdc7c(0xe3)](_0x3ef570,0x1),renderThumbnails(_0x14e08b),updateFileStatus();}function updateFileStatus(){const _0x94a4c4=a0_0x3de9a4,_0x126943=state['files'][_0x94a4c4(0xf6)][_0x94a4c4(0x14c)]+state[_0x94a4c4(0x15f)][_0x94a4c4(0xf0)][_0x94a4c4(0x14c)]+state[_0x94a4c4(0x15f)][_0x94a4c4(0x113)]['length'];elements[_0x94a4c4(0x13b)][_0x94a4c4(0x11b)]=_0x94a4c4(0x15d)+_0x126943+_0x94a4c4(0x18d)+state['files']['question'][_0x94a4c4(0x14c)]+',\x20æ¨¡ç¯„:'+state['files'][_0x94a4c4(0xf0)][_0x94a4c4(0x14c)]+_0x94a4c4(0x179)+state[_0x94a4c4(0x15f)][_0x94a4c4(0x113)]['length']+')';}async function executeGeneration(){const _0x15d0f2=a0_0x3de9a4,_0x2a0ecc=state['files'][_0x15d0f2(0xf6)][_0x15d0f2(0x14c)]+state['files'][_0x15d0f2(0xf0)][_0x15d0f2(0x14c)]+state[_0x15d0f2(0x15f)][_0x15d0f2(0x113)][_0x15d0f2(0x14c)];if(_0x2a0ecc===0x0){alert(_0x15d0f2(0x101));return;}if(!state[_0x15d0f2(0x183)]){alert('ã¾ãšã¯å³ä¸Šã®è¨­å®šãƒœã‚¿ãƒ³(âš™ï¸)ã‹ã‚‰APIã‚­ãƒ¼ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚'),toggleModal(elements[_0x15d0f2(0x178)],!![]);return;}if(!elements[_0x15d0f2(0x185)][_0x15d0f2(0x153)][_0x15d0f2(0x148)]()){}setLoading(!![]),elements[_0x15d0f2(0x15b)][_0x15d0f2(0x176)]=!![];try{await analyzeContent();}catch(_0x2450d8){console[_0x15d0f2(0x160)](_0x2450d8),renderOutput('###\x20ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ\x0a```\x0a'+_0x2450d8[_0x15d0f2(0x110)]+_0x15d0f2(0x19a));}finally{setLoading(![]),elements['generateBtn'][_0x15d0f2(0x176)]=![];}}async function analyzeContent(){const _0x7713f5=a0_0x3de9a4,_0x5a46a2=elements[_0x7713f5(0xe6)][_0x7713f5(0x153)],_0x206351=elements[_0x7713f5(0x185)][_0x7713f5(0x153)],_0xc7db91=_0x7713f5(0x16e),_0x226d0d=[{'text':_0x5a46a2+_0xc7db91}];state['files'][_0x7713f5(0xf6)][_0x7713f5(0x14c)]>0x0&&(_0x226d0d[_0x7713f5(0x1c1)]({'text':_0x7713f5(0x1b6)}),state[_0x7713f5(0x15f)][_0x7713f5(0xf6)][_0x7713f5(0x151)](_0x39080a=>_0x226d0d[_0x7713f5(0x1c1)]({'inline_data':{'mime_type':_0x39080a[_0x7713f5(0x106)],'data':_0x39080a[_0x7713f5(0xe8)]}})));state[_0x7713f5(0x15f)][_0x7713f5(0xf0)][_0x7713f5(0x14c)]>0x0&&(_0x226d0d[_0x7713f5(0x1c1)]({'text':_0x7713f5(0x14d)}),state[_0x7713f5(0x15f)]['model'][_0x7713f5(0x151)](_0x3bafed=>_0x226d0d['push']({'inline_data':{'mime_type':_0x3bafed[_0x7713f5(0x106)],'data':_0x3bafed['data']}})));state[_0x7713f5(0x15f)][_0x7713f5(0x113)][_0x7713f5(0x14c)]>0x0&&(_0x226d0d['push']({'text':_0x7713f5(0x1ab)}),state['files'][_0x7713f5(0x113)][_0x7713f5(0x151)](_0x3cc522=>_0x226d0d['push']({'inline_data':{'mime_type':_0x3cc522[_0x7713f5(0x106)],'data':_0x3cc522['data']}})));_0x226d0d['push']({'text':_0x7713f5(0x190)+(_0x206351||_0x7713f5(0xd7))});const _0x3ec6b9={'contents':[{'parts':_0x226d0d}],'generationConfig':{'temperature':0.4},'safetySettings':[{'category':_0x7713f5(0x1c0),'threshold':'BLOCK_NONE'},{'category':_0x7713f5(0x158),'threshold':_0x7713f5(0x1c2)},{'category':'HARM_CATEGORY_SEXUALLY_EXPLICIT','threshold':_0x7713f5(0x1c2)},{'category':_0x7713f5(0x129),'threshold':_0x7713f5(0x1c2)}]};try{const _0x5546f3=await fetch(_0x7713f5(0xf4)+state[_0x7713f5(0xf0)]+_0x7713f5(0x19d)+state['apiKey'],{'method':_0x7713f5(0x173),'headers':{'Content-Type':'application/json'},'body':JSON[_0x7713f5(0x1b9)](_0x3ec6b9)}),_0x504fef=await _0x5546f3[_0x7713f5(0x10d)]();if(_0x504fef['error'])throw new Error(_0x504fef['error']['message']);if(!_0x504fef[_0x7713f5(0x150)]||_0x504fef[_0x7713f5(0x150)][_0x7713f5(0x14c)]===0x0){console['error']('API\x20Response\x20Unexpected:',_0x504fef);if(_0x504fef['promptFeedback']){const _0x51ad1d=_0x504fef['promptFeedback']['blockReason'];throw new Error(_0x7713f5(0xd6)+_0x51ad1d+')');}throw new Error(_0x7713f5(0x1c3));}const _0x18f92b=_0x504fef['candidates'][0x0];_0x18f92b[_0x7713f5(0xff)]&&_0x18f92b['finishReason']!==_0x7713f5(0xfc)&&console[_0x7713f5(0x166)](_0x7713f5(0x16d),_0x18f92b[_0x7713f5(0xff)]);if(!_0x18f92b[_0x7713f5(0x130)]||!_0x18f92b[_0x7713f5(0x130)][_0x7713f5(0x15a)]||!_0x18f92b['content'][_0x7713f5(0x15a)][0x0])throw new Error(_0x7713f5(0x199));const _0x5a6679=_0x18f92b[_0x7713f5(0x130)][_0x7713f5(0x15a)][0x0][_0x7713f5(0x136)],_0xd8ae96=[...state['files'][_0x7713f5(0xf6)],...state[_0x7713f5(0x15f)][_0x7713f5(0xf0)],...state[_0x7713f5(0x15f)][_0x7713f5(0x113)]];renderOutput(_0x5a6679,_0xd8ae96);}catch(_0x50c5ef){throw _0x50c5ef;}finally{elements[_0x7713f5(0x13b)][_0x7713f5(0x11b)]=_0x7713f5(0x1ba),state[_0x7713f5(0x163)]=!![];}}function renderOutput(_0x3bed25,_0x3e094a=null){const _0x50750e=a0_0x3de9a4,_0x452c79=_0x50750e(0x1b1),_0x358355=[],_0x4aee13=_0x14bc58=>{const _0xedd0a2=''+_0x452c79+_0x358355['length'];return _0x358355['push'](_0x14bc58),_0xedd0a2;};let _0x39609f=_0x3bed25;_0x39609f=_0x39609f['replace'](/\$\$([\s\S]*?)\$\$/g,_0x5ec466=>_0x4aee13(_0x5ec466)),_0x39609f=_0x39609f[_0x50750e(0x13e)](/\\\[([\s\S]*?)\\\]/g,_0x33b600=>_0x4aee13(_0x33b600)),_0x39609f=_0x39609f[_0x50750e(0x13e)](/\\\(([\s\S]*?)\\\)/g,_0x5f5d9=>_0x4aee13(_0x5f5d9)),_0x39609f=_0x39609f['replace'](/\$([^$\n]+?)\$/g,_0xb09714=>_0x4aee13(_0xb09714)),_0x39609f=_0x39609f[_0x50750e(0x13e)](/(\\begin\{([a-z]+)\*?\}([\s\S]*?)\\end\{\2\*?\})/g,_0x316213=>{return _0x4aee13('$$'+_0x316213+'$$');});let _0xee4a2b=marked[_0x50750e(0x10a)](_0x39609f,{'breaks':!![]});for(let _0x1905fe=_0x358355[_0x50750e(0x14c)]-0x1;_0x1905fe>=0x0;_0x1905fe--){const _0x419403=_0x358355[_0x1905fe],_0x31417a=''+_0x452c79+_0x1905fe,_0x34a537=new RegExp(_0x31417a,'g');_0xee4a2b=_0xee4a2b['replace'](_0x34a537,()=>_0x419403);}if(_0x3e094a&&Array[_0x50750e(0xe9)](_0x3e094a)){let _0x2d5ab6=_0x50750e(0x197);_0x3e094a['forEach'](_0x13f108=>{const _0x5903a0=_0x50750e,_0x5be552=_0x5903a0(0x1ae)+_0x13f108[_0x5903a0(0x106)]+_0x5903a0(0x1c6)+_0x13f108[_0x5903a0(0xe8)];_0x2d5ab6+='<img\x20src=\x22'+_0x5be552+_0x5903a0(0xda);}),_0x2d5ab6+=_0x50750e(0x180),_0xee4a2b=_0x2d5ab6+_0xee4a2b;}elements[_0x50750e(0x13a)][_0x50750e(0x14e)]=_0xee4a2b,elements[_0x50750e(0x182)][_0x50750e(0xee)][_0x50750e(0xe7)](_0x50750e(0xeb)),elements[_0x50750e(0x1c4)][_0x50750e(0xee)]['remove'](_0x50750e(0xeb)),elements[_0x50750e(0x1ad)][_0x50750e(0xee)][_0x50750e(0xe7)](_0x50750e(0xeb)),state[_0x50750e(0x1a8)]=_0x3bed25,window[_0x50750e(0x133)]&&renderMathInElement(elements[_0x50750e(0x13a)],{'delimiters':[{'left':'$$','right':'$$','display':!![]},{'left':'\x5c[','right':'\x5c]','display':!![]},{'left':'$','right':'$','display':![]},{'left':'\x5c(','right':'\x5c)','display':![]}],'throwOnError':![]});}async function readFile(_0x4ff12f){const _0x1308d9=a0_0x3de9a4;if(_0x4ff12f[_0x1308d9(0x198)][_0x1308d9(0x1a9)](_0x1308d9(0x17f)))return new Promise((_0x1d7bae,_0x21e86c)=>{const _0xacbfa4=_0x1308d9,_0x4f4292=new FileReader();_0x4f4292['onload']=_0x7e4a00=>{const _0x178c4f=a0_0x3b5f,_0x3949aa=_0x7e4a00[_0x178c4f(0x1a0)][_0x178c4f(0x17a)][_0x178c4f(0x165)](',')[0x1];_0x1d7bae([{'mimeType':_0x4ff12f[_0x178c4f(0x198)],'data':_0x3949aa}]);},_0x4f4292[_0xacbfa4(0x111)]=_0x21e86c,_0x4f4292[_0xacbfa4(0x13d)](_0x4ff12f);});else{if(_0x4ff12f['type']===_0x1308d9(0x131)){const _0x5904dc=await _0x4ff12f['arrayBuffer']();return await convertPdfToImage(_0x5904dc);}else throw new Error(_0x1308d9(0x16f));}}function a0_0x5c5a(){const _0x18217f=['currentSubject','HARM_CATEGORY_DANGEROUS_CONTENT','other','download','save-edit-btn','thumbs','image/png','createElement','content','application/pdf','gemini_model','renderMathInElement','575412MpNzSC','querySelector','text','drop-zone-question','âœ¨\x20è§£æã‚’å®Ÿè¡Œ','light','responseArea','fileStatus','edit-btn','readAsDataURL','replace','Click\x20to\x20remove','close-paste-modal','loading-indicator','loadingIndicator','390050kYiTgI','ã‚ãªãŸã¯è‹±èªã®æ•™å¸«ã§ã™ã€‚ä¸ãˆã‚‰ã‚ŒãŸè‹±æ–‡ã‚„å•é¡Œã‚’è§£æã—ã€å’Œè¨³ã‚„æ–‡æ³•è§£èª¬ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚','change','pendingPasteFiles','drop','trim','image/jpeg','close-settings','responseEditor','length','\x0a\x0a##\x20æ¨¡ç¯„è§£ç­”ç”»åƒ','innerHTML','pasteOptions','candidates','forEach','canvas','value','import-prompts-input','closeSettingsBtn','stopPropagation','preventDefault','HARM_CATEGORY_HATE_SPEECH','saveEditBtn','parts','generateBtn','copy-btn','ç”»åƒåˆè¨ˆ:\x20','opacity','files','error','setAttribute','user-prompt','isGenerationFinished','18983349mXkZGI','split','warn','addEventListener','click','all','body','subjectSelect','#f1f5f9','Finish\x20Reason:','\x0a\x0aã€é‡è¦ã€‘\x0aãƒ»æ•°å¼ã¯å¿…ãšLaTeXå½¢å¼ï¼ˆ$...$\x20ã¾ãŸã¯\x20$$...$$ï¼‰ã§è¨˜è¿°ã—ã¦ãã ã•ã„ã€‚\x0aãƒ»è¡Œå†…æ•°å¼ã¯\x20$...$\x20ã§ã€ç‹¬ç«‹æ•°å¼ã¯\x20$$...$$\x20ã§å›²ã‚“ã§ãã ã•ã„ã€‚\x0aãƒ»ç‰¹ã«è¤‡æ•°è¡Œã®æ•°å¼ï¼ˆalignedç’°å¢ƒãªã©ï¼‰ã‚’ä½¿ã†å ´åˆã¯ã€å¿…ãš\x20$$\x20\x5cbegin{aligned}\x20...\x20\x5cend{aligned}\x20$$\x20ã®ã‚ˆã†ã«å…¨ä½“ã‚’\x20$$\x20ã§å›²ã‚“ã§ãã ã•ã„ã€‚','å¯¾å¿œã—ã¦ã„ãªã„ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã§ã™\x20(ç”»åƒã¾ãŸã¯PDFã®ã¿)','ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ','gemini-3-pro-preview','thumbnails-student','POST','ã‚ãªãŸã¯ç†ç§‘ã®æ•™å¸«ã§ã™ã€‚ä¸ãˆã‚‰ã‚ŒãŸå•é¡Œã‚’è§£æã—ã€ç§‘å­¦çš„ãªæ ¹æ‹ ã«åŸºã¥ã„ã¦è§£èª¬ã—ã¦ãã ã•ã„ã€‚','3ShVpUg','disabled','edit-actions','settingsModal',',\x20ç”Ÿå¾’:','result','screenshot-btn','openSettingsBtn','input','src','image/','</div><hr\x20class=\x22separator\x22>','getPage','editBtn','apiKey','from','userPrompt','ç”»åƒã®ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ','dragover','.drop-zone-group[data-type=\x22','theme','ã‚ãªãŸã¯å„ªç§€ãªå®¶åº­æ•™å¸«ã§ã™ã€‚ä¸ãˆã‚‰ã‚ŒãŸç”»åƒã‚’è§£æã—ã€ç”Ÿå¾’ã®è³ªå•ã«ç­”ãˆã¦ãã ã•ã„ã€‚','mouseleave','numPages','æš\x20(å•:','items','dataTransfer','\x0a\x0a##\x20è¿½åŠ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ\x0a','3617145zoeQZh','API\x20Keyã‚’å…¥åŠ›ã—ã¦ãã ã•ã„','getViewport','drop-overlay','editActions','prompts','<div\x20class=\x22response-images-container\x22\x20style=\x22display:\x20flex;\x20gap:\x2010px;\x20overflow-x:\x20auto;\x20margin-bottom:\x201rem;\x22>','type','ãƒ†ã‚­ã‚¹ãƒˆãŒç”Ÿæˆã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚','\x0a```','dropZones','subject_prompts',':generateContent?key=','#f8fafc','height','target','undefined','saveSettingsBtn','getContext','settings-modal','name','add','querySelectorAll','currentMarkdown','startsWith','drop-zone-student','\x0a\x0a##\x20ç”Ÿå¾’ã®è§£ç­”ç”»åƒ','data-theme','screenshotBtn','data:','gemini_api_key','dragleave','MATHPLACEHOLDER','paste','setItem','response-editor','background','\x0a\x0a##\x20å•é¡Œç”»åƒ','href','writeText','stringify','è§£æå®Œäº†','then','cancel-edit-btn','3VofsCm','äºˆæœŸã›ã¬ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:\x20','width','HARM_CATEGORY_HARASSMENT','push','BLOCK_NONE','AIã‹ã‚‰ã®å¿œç­”ãŒç©ºã§ã—ãŸã€‚','copyBtn','dark',';base64,','import-prompts-btn','#FFFFFF','drop-zone-model','ç”ŸæˆãŒãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ\x20(ç†ç”±:\x20','ç”»åƒã‚’è§£æã—ã¦ã€ãã®å†…å®¹ã«ã¤ã„ã¦è§£èª¬ã—ã¦ãã ã•ã„ã€‚','ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚æ­£ã—ã„JSONãƒ•ã‚¡ã‚¤ãƒ«ã‹ç¢ºèªã—ã¦ãã ã•ã„ã€‚','file-input-student','\x22\x20class=\x22response-preview-image\x22\x20alt=\x22Uploaded\x20Content\x22\x20style=\x22max-height:\x20200px;\x20border-radius:\x208px;\x22>','603KGmHXJ','PDFè§£æãƒ©ã‚¤ãƒ–ãƒ©ãƒª\x20(pdfjsLib)\x20ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ã¿ã¦ãã ã•ã„ã€‚','pasteModal','api-key','æ–‡é ­ã«ã¾ãšã€Œé¦™å·ã§ã™ã€‚æ—©é€Ÿã§ã™ãŒè§£ç­”ã‚’æ·»å‰Šã—ã¾ã™ã­ã€‚ã€ã¨ã„ã†æ–‡è¨€ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¦ã€‚ã“ã®è¡¨ç¾ã¯æ¯å›è‹¥å¹²å¤‰åŒ–ã•ã›ã¦ï¼ˆä»Šå›ã‚‚é ‘å¼µã£ã¦ã„ãã¾ã—ã‚‡ã†ãªã©ï¼‰ã€‚æ·»å‰Šå¯¾è±¡ã«é–¢ã—ã¦ã¯ã‚³ãƒ¡ãƒ³ãƒˆã—ãªãã¦å¤§ä¸ˆå¤«ã€‚\x0a\x0aRole:ã‚ãªãŸã¯æ±å¤§ãƒ»äº¬å¤§ãªã©ã®é›£é–¢å›½ç«‹å¤§å­¦ã®æ•°å­¦ã®æ¡ç‚¹å®˜ã§ã™ã€‚å—é¨“ç”ŸãŒæ›¸ã„ãŸç­”æ¡ˆã‚’ã€è¨˜è¿°è©¦é¨“ã®è¦³ç‚¹ã‹ã‚‰å³ã—ãã€ã‹ã¤å»ºè¨­çš„ã«æ·»å‰Šã—ã¦ãã ã•ã„ã€‚ãŸã ã—ï¼Œè§£ç­”è€…ã®æ„æ¬²ã‚’ããã‚ˆã†ãªè¡¨ç¾ã¯é¿ã‘ï¼ŒåŠ±ã¾ã™è¨€è‘‰ã‚’å¿˜ã‚Œãªã„ã‚ˆã†ã«å¿ƒæ›ã‘ã¦ã»ã—ã„ã€‚\x0a\x0aã€é‡è¦ã€‘å¥èª­ç‚¹ã®ãƒã‚§ãƒƒã‚¯:\x20ç­”æ¡ˆå†…ã§ã€Œï¼Œã€ï¼ˆã‚«ãƒ³ãƒï¼‰ã¨ã€Œã€ã€ï¼ˆèª­ç‚¹ï¼‰ãŒæ··åœ¨ã—ã¦ã„ãªã„ã‹ç¢ºèªã—ã€çµ±ä¸€ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€Œã€é …ç›®åˆ¥ãƒã‚§ãƒƒã‚¯ã€‘ã€ã§æŒ‡æ‘˜ã—ã¦ãã ã•ã„ã€‚\x0a\x0aæ·»å‰Šã®5ã¤ã®è©•ä¾¡ãƒã‚¤ãƒ³ãƒˆ:è«–ç†ã®æ­£ç¢ºæ€§:\x20å‘½é¡Œã®é€†ãƒ»è£ãƒ»å¯¾å¶ã€å¿…è¦ååˆ†æ¡ä»¶ï¼ˆ$\x5ciff$ï¼‰ã®æ‰±ã„ã«ãƒŸã‚¹ã¯ãªã„ã‹ã€‚è¨ˆç®—ã®éç¨‹:\x20ç­”ãˆã ã‘ã§ãªãã€ç«‹å¼ã®æ ¹æ‹ ãŒæ˜ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ã€‚è¨˜è¿°ã®ä¸å¯§ã•:\x20ã€Œï½ã¨ãŠãã€ã€Œï½ã‚ˆã‚Šã€ã¨ã„ã£ãŸæ—¥æœ¬èªã®ã¤ãªããŒè‡ªç„¶ã§ã€ç¬¬ä¸‰è€…ãŒèª­ã‚“ã§ç†è§£ã§ãã‚‹ã‹ã€‚æ¡ä»¶ã®ç¢ºèª:\x20å®šç¾©åŸŸã€åˆ†æ¯ãŒ\x20$0$\x20ã§ãªã„ã“ã¨ã€åˆ¤åˆ¥å¼ã®ç¬¦å·ã€å¢ƒç•Œç·šã®å«ã¿ãªã©ã€æ•°å­¦çš„ã«å¿…é ˆã®æ¤œè¨ãŒæ¼ã‚Œã¦ã„ãªã„ã‹ã€‚\x0a\x0aåˆ¥è§£ãƒ»åŠ¹ç‡æ€§:\x20ã‚ˆã‚Šç°¡æ½”ã€ã‚ã‚‹ã„ã¯ã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆãªè§£æ³•ãŒã‚ã‚‹å ´åˆã€ãã®ãƒ’ãƒ³ãƒˆã‚’æç¤ºã™ã‚‹ã“ã¨ã€‚\x0a\x0aå‡ºåŠ›å½¢å¼:ã€æ­£èª¤ã€‘ã¾ãšå„å•ã®æ­£èª¤ã‚’è¿°ã¹ã¦ã»ã—ã„ã€‚æ­£èª¤ã¯ã™ã¹ã¦å¼·èª¿è¡¨ç¤ºã§ã€‚\x0aã€ç·è©•ã€‘\x20(Aã€œEã®5æ®µéšè©•ä¾¡ã¨å…¨ä½“çš„ãªå°è±¡)\x0aã€é …ç›®åˆ¥ãƒã‚§ãƒƒã‚¯ã€‘\x20(ä¸Šè¨˜ã®5ãƒã‚¤ãƒ³ãƒˆã«åŸºã¥ã„ãŸè©³ç´°æŒ‡æ‘˜)\x0aã€å…·ä½“çš„ä¿®æ­£æ¡ˆã€‘\x20(ã€Œã“ã®ã‚ˆã†ã«æ›¸ãã¨ã•ã‚‰ã«è‰¯ããªã‚‹ã€ã¨ã„ã†ä¿®æ­£æ¸ˆã¿è¨˜è¿°ä¾‹)\x0aã€ã‚«ã‚¬ãƒ¯å…ˆç”Ÿã‹ã‚‰ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã€‘\x20(å¤±ç‚¹ã‚’é˜²ããŸã‚ã®ãƒ¯ãƒ³ãƒã‚¤ãƒ³ãƒˆ)\x0a\x0a\x0aç”Ÿæˆæ™‚ã«ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³è¨˜å·ï¼ˆã€Œ**ã€ãªã©ï¼‰ã‚’è¡¨ç¤ºã—ãªã„ã‚ˆã†ã«æ³¨æ„ã—ã¦ã€‚','data:text/json;charset=utf-8,','thumbnails-question','getAsFile','splice','clipboard','å†…éƒ¨ã‚¨ãƒ©ãƒ¼:\x20ä¸æ˜ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚«ãƒ†ã‚´ãƒªã§ã™\x20(','systemPrompt','remove','data','isArray','export-prompts-btn','hidden','data-target','clear_maker_response_','classList','.clear-zone-btn','model','readAsText','thumbnails-model','min','https://generativelanguage.googleapis.com/v1beta/models/','1393844vJMbPc','question','getElementById','0.3','33270JQlJbe','modelSelect','273vAphnQ','STOP','\x20will\x20be\x20processed.','PDFã®å¤‰æ›ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:\x20','finishReason','innerText','å°‘ãªãã¨ã‚‚1ã¤ã®ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„','img','themeToggleBtn','hoveredZone','promise','mimeType','catch','now','ãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚','parse','ã‚ãªãŸã¯å›½èªã®æ•™å¸«ã§ã™ã€‚ç¾ä»£æ–‡ã€å¤æ–‡ã€æ¼¢æ–‡ãªã©ã®å•é¡Œã‚’è§£æã—ã€èª­è§£ã®ãƒã‚¤ãƒ³ãƒˆã‚’è§£èª¬ã—ã¦ãã ã•ã„ã€‚','toDataURL','json','onload','appendChild','message','onerror','inputs','student','padding','getAttribute','active','mouseenter','open-settings','image','style','textContent','PDF\x20has\x20','getItem','.png','.paste-option-btn','clear_maker_prompts.json','PDF\x20Conversion\x20Error:','closePasteBtn','file-status','current_subject','15344gPxmuQ','indexOf','map'];a0_0x5c5a=function(){return _0x18217f;};return a0_0x5c5a();}async function convertPdfToImage(_0x2301b9){const _0x54edf5=a0_0x3de9a4;if(typeof pdfjsLib===_0x54edf5(0x1a1))throw new Error(_0x54edf5(0xdc));try{const _0x3a443b=pdfjsLib['getDocument']({'data':_0x2301b9}),_0x6c414b=await _0x3a443b[_0x54edf5(0x105)],_0x2e4853=_0x6c414b[_0x54edf5(0x18c)],_0x54fa90=[],_0x45a395=0xa,_0xb11cd1=Math[_0x54edf5(0xf3)](_0x2e4853,_0x45a395);_0x2e4853>_0x45a395&&console['warn'](_0x54edf5(0x11c)+_0x2e4853+'\x20pages.\x20Only\x20first\x20'+_0x45a395+_0x54edf5(0xfd));for(let _0xe8c751=0x1;_0xe8c751<=_0xb11cd1;_0xe8c751++){const _0x2f5ae7=await _0x6c414b[_0x54edf5(0x181)](_0xe8c751),_0xf8c6f7=_0x2f5ae7[_0x54edf5(0x193)]({'scale':0x2}),_0x1f1c4f=document[_0x54edf5(0x12f)](_0x54edf5(0x152)),_0x7d60b5=_0x1f1c4f[_0x54edf5(0x1a3)]('2d');_0x1f1c4f[_0x54edf5(0x19f)]=_0xf8c6f7[_0x54edf5(0x19f)],_0x1f1c4f[_0x54edf5(0x1bf)]=_0xf8c6f7['width'];const _0x233ba8={'canvasContext':_0x7d60b5,'viewport':_0xf8c6f7};_0x7d60b5['fillStyle']=_0x54edf5(0xd4),_0x7d60b5['fillRect'](0x0,0x0,_0x1f1c4f[_0x54edf5(0x1bf)],_0x1f1c4f[_0x54edf5(0x19f)]),await _0x2f5ae7['render'](_0x233ba8)[_0x54edf5(0x105)];const _0x3cc851=_0x1f1c4f[_0x54edf5(0x10c)](_0x54edf5(0x149),0.95);_0x54fa90[_0x54edf5(0x1c1)]({'mimeType':_0x54edf5(0x149),'data':_0x3cc851[_0x54edf5(0x165)](',')[0x1]});}return _0x54fa90;}catch(_0x1a3cd6){console[_0x54edf5(0x160)](_0x54edf5(0x121),_0x1a3cd6);throw new Error(_0x54edf5(0xfe)+_0x1a3cd6[_0x54edf5(0x110)]);}}function copyResponse(){const _0x242d8d=a0_0x3de9a4,_0x381760=elements[_0x242d8d(0x13a)]['cloneNode'](!![]),_0x4165ad=_0x381760['getElementsByTagName'](_0x242d8d(0x102));while(_0x4165ad['length']>0x0){_0x4165ad[0x0][_0x242d8d(0xe7)]();}const _0x38548b=_0x381760['getElementsByTagName']('hr');while(_0x38548b[_0x242d8d(0x14c)]>0x0){_0x38548b[0x0][_0x242d8d(0xe7)]();}const _0x112f0c=_0x381760[_0x242d8d(0x100)][_0x242d8d(0x148)]();navigator[_0x242d8d(0xe4)][_0x242d8d(0x1b8)](_0x112f0c)['then'](()=>{const _0x925d2a=_0x242d8d,_0x5f2383=elements[_0x925d2a(0x1c4)][_0x925d2a(0x11b)];elements['copyBtn'][_0x925d2a(0x11b)]='âœ…',setTimeout(()=>{const _0x419668=_0x925d2a;elements[_0x419668(0x1c4)][_0x419668(0x11b)]=_0x5f2383;},0x7d0);})[_0x242d8d(0x107)](_0x21ddad=>{const _0x16b4d1=_0x242d8d;console[_0x16b4d1(0x160)]('Copy\x20failed',_0x21ddad),alert(_0x16b4d1(0x170));});}function setLoading(_0x5df1ff){const _0x4f1c89=a0_0x3de9a4;_0x5df1ff?(elements[_0x4f1c89(0x142)][_0x4f1c89(0xee)][_0x4f1c89(0xe7)]('hidden'),elements[_0x4f1c89(0x13a)][_0x4f1c89(0x11a)][_0x4f1c89(0x15e)]=_0x4f1c89(0xf8),elements[_0x4f1c89(0x1c4)][_0x4f1c89(0xee)][_0x4f1c89(0x1a6)](_0x4f1c89(0xeb)),elements[_0x4f1c89(0x1ad)]['classList'][_0x4f1c89(0x1a6)](_0x4f1c89(0xeb))):(elements[_0x4f1c89(0x142)][_0x4f1c89(0xee)][_0x4f1c89(0x1a6)](_0x4f1c89(0xeb)),elements[_0x4f1c89(0x13a)]['style'][_0x4f1c89(0x15e)]='1');}function saveAsImage(){const _0x1f7950=a0_0x3de9a4,_0x4f17dc=elements[_0x1f7950(0x13a)],_0x445f4a=_0x4f17dc['style'][_0x1f7950(0x1b5)],_0x3e68ba=document[_0x1f7950(0x16a)][_0x1f7950(0x115)](_0x1f7950(0x1ac)),_0x3c3553=_0x3e68ba===_0x1f7950(0x139)?_0x1f7950(0x19e):'#0f172a',_0x4ea5fc=_0x3e68ba===_0x1f7950(0x139)?_0x1f7950(0x16c):'#1e293b';_0x4f17dc[_0x1f7950(0x11a)]['background']=_0x3c3553;const _0x39cf53=_0x4f17dc['style'][_0x1f7950(0x114)];_0x4f17dc[_0x1f7950(0x11a)][_0x1f7950(0x114)]='24px',html2canvas(_0x4f17dc,{'useCORS':!![],'scale':0x2,'backgroundColor':_0x4ea5fc,'logging':![]})[_0x1f7950(0x1bb)](_0x15eb55=>{const _0x4f901e=_0x1f7950;_0x4f17dc[_0x4f901e(0x11a)]['background']=_0x445f4a,_0x4f17dc[_0x4f901e(0x11a)]['padding']=_0x39cf53;const _0x41f188=document[_0x4f901e(0x12f)]('a');_0x41f188[_0x4f901e(0x12b)]=_0x4f901e(0xed)+Date[_0x4f901e(0x108)]()+_0x4f901e(0x11e),_0x41f188[_0x4f901e(0x1b7)]=_0x15eb55[_0x4f901e(0x10c)](_0x4f901e(0x12e)),_0x41f188[_0x4f901e(0x168)]();})[_0x1f7950(0x107)](_0x5b61a1=>{const _0xa05026=_0x1f7950;console[_0xa05026(0x160)](_0x5b61a1),_0x4f17dc['style'][_0xa05026(0x1b5)]=_0x445f4a,_0x4f17dc['style'][_0xa05026(0x114)]=_0x39cf53,alert(_0xa05026(0x186));});}function toggleEditMode(_0x5c1793){const _0x205ffa=a0_0x3de9a4;_0x5c1793?(elements[_0x205ffa(0x13a)]['classList'][_0x205ffa(0x1a6)]('hidden'),elements['responseEditor'][_0x205ffa(0xee)][_0x205ffa(0xe7)](_0x205ffa(0xeb)),elements[_0x205ffa(0x14b)][_0x205ffa(0x153)]=state[_0x205ffa(0x1a8)]||'',elements[_0x205ffa(0x182)][_0x205ffa(0xee)]['add'](_0x205ffa(0xeb)),elements[_0x205ffa(0x1c4)][_0x205ffa(0xee)]['add'](_0x205ffa(0xeb)),elements['screenshotBtn'][_0x205ffa(0xee)]['add']('hidden'),elements[_0x205ffa(0x195)]['classList'][_0x205ffa(0xe7)]('hidden')):(elements[_0x205ffa(0x13a)]['classList'][_0x205ffa(0xe7)]('hidden'),elements[_0x205ffa(0x14b)][_0x205ffa(0xee)][_0x205ffa(0x1a6)]('hidden'),elements['editBtn']['classList'][_0x205ffa(0xe7)](_0x205ffa(0xeb)),elements['copyBtn'][_0x205ffa(0xee)][_0x205ffa(0xe7)](_0x205ffa(0xeb)),elements[_0x205ffa(0x1ad)][_0x205ffa(0xee)][_0x205ffa(0xe7)]('hidden'),elements[_0x205ffa(0x195)][_0x205ffa(0xee)][_0x205ffa(0x1a6)]('hidden'));}function saveEdit(){const _0x15f5c3=a0_0x3de9a4,_0x36d976=elements[_0x15f5c3(0x14b)][_0x15f5c3(0x153)];state[_0x15f5c3(0x1a8)]=_0x36d976;const _0x2de350=[...state[_0x15f5c3(0x15f)][_0x15f5c3(0xf6)],...state[_0x15f5c3(0x15f)]['model'],...state[_0x15f5c3(0x15f)][_0x15f5c3(0x113)]];renderOutput(_0x36d976,_0x2de350),toggleEditMode(![]);}function cancelEdit(){toggleEditMode(![]);}init();